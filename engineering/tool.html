<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>8.1 真机远程代码调试 | web全栈体系</title>
    <meta name="description" content="你好，朋友">
    <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.5718d53e.css" as="style"><link rel="preload" href="/assets/js/app.0f616eb6.js" as="script"><link rel="preload" href="/assets/js/3.9750fba5.js" as="script"><link rel="preload" href="/assets/js/2.6aa46093.js" as="script"><link rel="preload" href="/assets/js/9.bfaf9c10.js" as="script"><link rel="prefetch" href="/assets/js/10.3b417cc7.js"><link rel="prefetch" href="/assets/js/100.450b51bc.js"><link rel="prefetch" href="/assets/js/101.02365136.js"><link rel="prefetch" href="/assets/js/102.23f6118f.js"><link rel="prefetch" href="/assets/js/103.4decf838.js"><link rel="prefetch" href="/assets/js/104.d39cfd73.js"><link rel="prefetch" href="/assets/js/105.88534338.js"><link rel="prefetch" href="/assets/js/106.366d0b59.js"><link rel="prefetch" href="/assets/js/107.cf3cfcba.js"><link rel="prefetch" href="/assets/js/108.21694919.js"><link rel="prefetch" href="/assets/js/109.4e4fd62e.js"><link rel="prefetch" href="/assets/js/11.9d20f01b.js"><link rel="prefetch" href="/assets/js/110.aeb394e4.js"><link rel="prefetch" href="/assets/js/111.d6595775.js"><link rel="prefetch" href="/assets/js/12.ac6dcc46.js"><link rel="prefetch" href="/assets/js/13.3990b71a.js"><link rel="prefetch" href="/assets/js/14.42418305.js"><link rel="prefetch" href="/assets/js/15.3e7fea41.js"><link rel="prefetch" href="/assets/js/16.e9242241.js"><link rel="prefetch" href="/assets/js/17.5cb2a82b.js"><link rel="prefetch" href="/assets/js/18.09a2ee08.js"><link rel="prefetch" href="/assets/js/19.5e018236.js"><link rel="prefetch" href="/assets/js/20.2f6aad81.js"><link rel="prefetch" href="/assets/js/21.56a0a87d.js"><link rel="prefetch" href="/assets/js/22.37a8fef4.js"><link rel="prefetch" href="/assets/js/23.75c65558.js"><link rel="prefetch" href="/assets/js/24.19255d9b.js"><link rel="prefetch" href="/assets/js/25.b96e970c.js"><link rel="prefetch" href="/assets/js/26.8043101d.js"><link rel="prefetch" href="/assets/js/27.c05d3044.js"><link rel="prefetch" href="/assets/js/28.c0aa90a2.js"><link rel="prefetch" href="/assets/js/29.06c0191d.js"><link rel="prefetch" href="/assets/js/30.975fb305.js"><link rel="prefetch" href="/assets/js/31.0cba5310.js"><link rel="prefetch" href="/assets/js/32.d8bc188f.js"><link rel="prefetch" href="/assets/js/33.384f6578.js"><link rel="prefetch" href="/assets/js/34.6baca6a7.js"><link rel="prefetch" href="/assets/js/35.96ec3f3e.js"><link rel="prefetch" href="/assets/js/36.bd945c36.js"><link rel="prefetch" href="/assets/js/37.be27655b.js"><link rel="prefetch" href="/assets/js/38.e8e93b37.js"><link rel="prefetch" href="/assets/js/39.ef88fac1.js"><link rel="prefetch" href="/assets/js/4.aa28cc69.js"><link rel="prefetch" href="/assets/js/40.b6dad60d.js"><link rel="prefetch" href="/assets/js/41.c762ef5a.js"><link rel="prefetch" href="/assets/js/42.151d8a58.js"><link rel="prefetch" href="/assets/js/43.632c642f.js"><link rel="prefetch" href="/assets/js/44.2e34b5d9.js"><link rel="prefetch" href="/assets/js/45.94f8db29.js"><link rel="prefetch" href="/assets/js/46.57527f8f.js"><link rel="prefetch" href="/assets/js/47.44a84132.js"><link rel="prefetch" href="/assets/js/48.66958018.js"><link rel="prefetch" href="/assets/js/49.21739b30.js"><link rel="prefetch" href="/assets/js/5.e06ff02e.js"><link rel="prefetch" href="/assets/js/50.000c5d7c.js"><link rel="prefetch" href="/assets/js/51.b59a6470.js"><link rel="prefetch" href="/assets/js/52.3a475ad4.js"><link rel="prefetch" href="/assets/js/53.9801890b.js"><link rel="prefetch" href="/assets/js/54.269a45cd.js"><link rel="prefetch" href="/assets/js/55.91e89997.js"><link rel="prefetch" href="/assets/js/56.493b7ae8.js"><link rel="prefetch" href="/assets/js/57.ec46c27c.js"><link rel="prefetch" href="/assets/js/58.56202f8d.js"><link rel="prefetch" href="/assets/js/59.4dac8d8a.js"><link rel="prefetch" href="/assets/js/6.45a79ebc.js"><link rel="prefetch" href="/assets/js/60.77f7cd1f.js"><link rel="prefetch" href="/assets/js/61.a48bae63.js"><link rel="prefetch" href="/assets/js/62.626e88b6.js"><link rel="prefetch" href="/assets/js/63.9d36ed5d.js"><link rel="prefetch" href="/assets/js/64.a6a4e5c6.js"><link rel="prefetch" href="/assets/js/65.e32c3a18.js"><link rel="prefetch" href="/assets/js/66.0de20cc0.js"><link rel="prefetch" href="/assets/js/67.b24d4adf.js"><link rel="prefetch" href="/assets/js/68.7269173e.js"><link rel="prefetch" href="/assets/js/69.9999d01e.js"><link rel="prefetch" href="/assets/js/7.1a1f32a2.js"><link rel="prefetch" href="/assets/js/70.a45e1785.js"><link rel="prefetch" href="/assets/js/71.d443735d.js"><link rel="prefetch" href="/assets/js/72.56bd9ca0.js"><link rel="prefetch" href="/assets/js/73.4a484020.js"><link rel="prefetch" href="/assets/js/74.d0f77ba8.js"><link rel="prefetch" href="/assets/js/75.8595de75.js"><link rel="prefetch" href="/assets/js/76.b89309e6.js"><link rel="prefetch" href="/assets/js/77.1a28c952.js"><link rel="prefetch" href="/assets/js/78.156340fe.js"><link rel="prefetch" href="/assets/js/79.bc68f887.js"><link rel="prefetch" href="/assets/js/8.ffcc6d32.js"><link rel="prefetch" href="/assets/js/80.00742412.js"><link rel="prefetch" href="/assets/js/81.d07bf30f.js"><link rel="prefetch" href="/assets/js/82.dd648b4e.js"><link rel="prefetch" href="/assets/js/83.50310bd1.js"><link rel="prefetch" href="/assets/js/84.8b446b87.js"><link rel="prefetch" href="/assets/js/85.1bbf1222.js"><link rel="prefetch" href="/assets/js/86.b1112682.js"><link rel="prefetch" href="/assets/js/87.5353ad37.js"><link rel="prefetch" href="/assets/js/88.3bc7938a.js"><link rel="prefetch" href="/assets/js/89.c9d6877e.js"><link rel="prefetch" href="/assets/js/90.f7c20556.js"><link rel="prefetch" href="/assets/js/91.72437dd2.js"><link rel="prefetch" href="/assets/js/92.2a17869e.js"><link rel="prefetch" href="/assets/js/93.cc33ea11.js"><link rel="prefetch" href="/assets/js/94.49e5d122.js"><link rel="prefetch" href="/assets/js/95.9c954379.js"><link rel="prefetch" href="/assets/js/96.638e1dee.js"><link rel="prefetch" href="/assets/js/97.c2372908.js"><link rel="prefetch" href="/assets/js/98.762254ac.js"><link rel="prefetch" href="/assets/js/99.29af3121.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5718d53e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-266a5a28><header class="navbar" data-v-266a5a28><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="web全栈体系" class="logo"> <span class="site-name can-hide">web全栈体系</span></a> <div class="carousel" data-v-1a4d21d9></div> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><a href="https://github.com/hejialianghe" class="repo-star"><img src="https://img.shields.io/github/stars/hejialianghe/Senior-FrontEnd.svg?style=flat-square" alt></a> <div class="nav-item"><a href="/algorithm/complexity.html" class="nav-link">算法小册</a></div><div class="nav-item"><a href="/guide/" class="nav-link">web体系</a></div><div class="nav-item"><a href="/fp/react/build-react.html" class="nav-link">框架原理</a></div><div class="nav-item"><a href="https://github.com/hejialianghe/Senior-FrontEnd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitee.com/hejialianghe/Senior-FrontEnd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/engineering/tool.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en-US/engineering/tool.html" class="nav-link">English</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-266a5a28></div> <aside class="sidebar" data-v-266a5a28><nav class="nav-links"><a href="https://github.com/hejialianghe" class="repo-star"><img src="https://img.shields.io/github/stars/hejialianghe/Senior-FrontEnd.svg?style=flat-square" alt></a> <div class="nav-item"><a href="/algorithm/complexity.html" class="nav-link">算法小册</a></div><div class="nav-item"><a href="/guide/" class="nav-link">web体系</a></div><div class="nav-item"><a href="/fp/react/build-react.html" class="nav-link">框架原理</a></div><div class="nav-item"><a href="https://github.com/hejialianghe/Senior-FrontEnd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitee.com/hejialianghe/Senior-FrontEnd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/engineering/tool.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en-US/engineering/tool.html" class="nav-link">English</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" class="sidebar-link">介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jsadvanced/" class="sidebar-link">前言</a></li><li><a href="/jsadvanced/function.html" class="sidebar-link">函数</a></li><li><a href="/jsadvanced/asyncpro.html" class="sidebar-link">异步编程</a></li><li><a href="/jsadvanced/designpattern.html" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>计算机网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/computerNetwork/protocal.html" class="sidebar-link">网络协议</a></li><li><a href="/computerNetwork/network-actual.html" class="sidebar-link">网络请求实战</a></li><li><a href="/computerNetwork/security.html" class="sidebar-link">网络安全与攻防</a></li><li><a href="/computerNetwork/browser-status.html" class="sidebar-link">浏览器状态同步和路由</a></li><li><a href="/computerNetwork/tools.html" class="sidebar-link">工具链和其他</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/" class="sidebar-link">前言</a></li><li><a href="/vue/vueBase.html" class="sidebar-link">vue基础</a></li><li><a href="/vue/vueComponents.html" class="sidebar-link">探索vue的组件世界</a></li><li><a href="/vue/sourceCode.html" class="sidebar-link">部分源码解析</a></li><li><a href="/vue/serverSideRender.html" class="sidebar-link">服务端渲染</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/react/" class="sidebar-link">入门介绍</a></li><li><a href="/react/react-base.html" class="sidebar-link">步入react</a></li><li><a href="/react/react-positive.html" class="sidebar-link">react正篇</a></li><li><a href="/react/react-ecology.html" class="sidebar-link">react生态</a></li><li><a href="/react/react-principle.html" class="sidebar-link">react原理</a></li><li><a href="/react/react-state-mana.html" class="sidebar-link">react状态管理</a></li><li><a href="/react/react-actualCombat.html" class="sidebar-link">react高级实战</a></li><li><a href="/react/react-hooks.html" class="sidebar-link">react-hooks</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node.js进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/node/" class="sidebar-link">Node.js基础</a></li><li><a href="/node/koa.html" class="sidebar-link">koa</a></li><li><a href="/node/egg.html" class="sidebar-link">企业级框架egg</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工程化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/engineering/script.html" class="sidebar-link">脚本世界</a></li><li><a href="/engineering/coding-standards.html" class="sidebar-link">规范先行</a></li><li><a href="/engineering/quality-code.html" class="sidebar-link">质量代码</a></li><li><a href="/engineering/design.html" class="sidebar-link">工程设计</a></li><li><a href="/engineering/ctg-art.html" class="sidebar-link">构建艺术</a></li><li><a href="/engineering/auto-deploy.html" class="sidebar-link">持续集成与部署</a></li><li><a href="/engineering/git.html" class="sidebar-link">Git操作</a></li><li><a href="/engineering/tool.html" aria-current="page" class="active sidebar-link">效率工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-1-真机远程代码调试" class="sidebar-link">8.1 真机远程代码调试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-1-1-ios真机设备调试" class="sidebar-link">8.1.1 ios真机设备调试</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-1-2-android真机设备调试" class="sidebar-link">8.1.2 Android真机设备调试</a></li></ul></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-2-无线调试工具-weinre" class="sidebar-link">8.2 无线调试工具-Weinre</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-3-在移动端调试" class="sidebar-link">8.3 在移动端调试</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-4-使用代理服务器进行调试-charles" class="sidebar-link">8.4 使用代理服务器进行调试（charles）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-4-1-常见的代理服务器" class="sidebar-link">8.4.1 常见的代理服务器</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-4-2-http抓包" class="sidebar-link">8.4.2 HTTP抓包</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-4-3-https抓包" class="sidebar-link">8.4.3 HTTPS抓包</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-4-4-map请求重定向" class="sidebar-link">8.4.4 Map请求重定向</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-4-5-rewrite-修改请求内容" class="sidebar-link">8.4.5 Rewrite 修改请求内容</a></li></ul></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-5-在公网访问本地服务" class="sidebar-link">8.5 在公网访问本地服务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-5-1-内网穿透" class="sidebar-link">8.5.1 内网穿透</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-5-2-localtunnel的使用" class="sidebar-link">8.5.2 localtunnel的使用</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-5-3-部署你的localtunnel服务" class="sidebar-link">8.5.3 部署你的localtunnel服务</a></li></ul></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-6-随机数据生成-mock" class="sidebar-link">8.6 随机数据生成（mock）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-6-1-mock-js-的安装及基本语法" class="sidebar-link">8.6.1 Mock.js 的安装及基本语法</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-6-2-mock-js的常用方法" class="sidebar-link">8.6.2 Mock.js的常用方法</a></li></ul></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-7-restful-api-快速模拟" class="sidebar-link">8.7 RestFul API 快速模拟</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-7-1-复杂的接口mock场景" class="sidebar-link">8.7.1 复杂的接口mock场景</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-7-2-json-server-的安装和用法" class="sidebar-link">8.7.2 JSON-server 的安装和用法</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-7-3-生成随机数据" class="sidebar-link">8.7.3 生成随机数据</a></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-7-4-json-server的基本使用" class="sidebar-link">8.7.4 JSON-Server的基本使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/engineering/tool.html#_8-8-stream-手机抓包app" class="sidebar-link">8.8 Stream 手机抓包APP</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applets/performance.html" class="sidebar-link">小程序进阶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>项目实战</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/projectPractice/isomorphism.html" class="sidebar-link">认识同构及原理</a></li><li><a href="/projectPractice/demo.html" class="sidebar-link">实现一个同构的demo</a></li><li><a href="/projectPractice/nextjs.html" class="sidebar-link">Nextjs</a></li></ul></section></li></ul> </aside> <main class="page" data-v-266a5a28> <div class="ads" data-v-a4c8d602><div class="item" data-v-a4c8d602><h6 class="title" style="display:;" data-v-a4c8d602>联系作者</h6> <div class="thumb" data-v-a4c8d602><a href="/weixin.jpeg" target="_blank" data-v-a4c8d602><img src="/weixin.jpeg" alt="联系作者" data-v-a4c8d602></a></div></div></div> <div class="theme-default-content content__default"><h2 id="_8-1-真机远程代码调试"><a href="#_8-1-真机远程代码调试" class="header-anchor">#</a> 8.1 真机远程代码调试</h2> <h3 id="_8-1-1-ios真机设备调试"><a href="#_8-1-1-ios真机设备调试" class="header-anchor">#</a> 8.1.1 ios真机设备调试</h3> <ol><li>在手机是上开启网页检查器</li></ol> <p>设置-&gt; safari 浏览器 -&gt; 高级 -&gt; 网页检测器</p> <ol start="2"><li>开启Safari上的Develop功能</li></ol> <p>菜单 -&gt; Preferences（偏好设置） -&gt; Advanced（高级）</p> <p><img src="/assets/img/devetoopios.c1c164e9.png" alt=""></p> <ol start="3"><li>使用数据线连接手机个开发主机</li></ol> <ul><li>信任电脑</li></ul> <ol start="4"><li>打开devTool</li></ol> <p>Develop -&gt; 你的ios设备 -&gt; 要调试的页面</p> <p><img src="/assets/img/connect.f4b52a55.png" alt=""></p> <h3 id="_8-1-2-android真机设备调试"><a href="#_8-1-2-android真机设备调试" class="header-anchor">#</a> 8.1.2 Android真机设备调试</h3> <ol><li>在手机上开启USB调试功能</li></ol> <p>设置-&gt; 开发者选项 -&gt; USB调试</p> <ol start="2"><li>使用数据线连接手机和开发主机</li></ol> <ul><li>允许USB调试</li></ul> <ol start="3"><li>打开Chrome DevTools</li></ol> <ul><li>在地址栏输入chrome://inspect</li> <li>确保开启了 Discover USB devices</li></ul> <p><img src="/assets/img/andconnect.7f8588e3.png" alt=""></p> <h2 id="_8-2-无线调试工具-weinre"><a href="#_8-2-无线调试工具-weinre" class="header-anchor">#</a> 8.2 无线调试工具-Weinre</h2> <ul><li>无需数据线</li> <li>pc和移动都可以调试</li></ul> <ol><li>环境准备与安装</li></ol> <ul><li>环境：任何node.js 环境</li> <li>安装：<code>npm install -g weinre</code></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> weinre -h  <span class="token comment">#获取帮助信息</span>
 weinre --boundHost<span class="token operator">=</span>-all- --httpPort<span class="token operator">=</span><span class="token number">1000</span> <span class="token comment"># 启动，boundHost为all是允许本机所有有效ip访问，默认端口8080</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>浏览打开：ip:1000 或 http://localhost:1000/</li></ul> <p><img src="/assets/img/weinre.0545f68d.png" alt=""></p> <ol start="2"><li>Target 页面配置</li></ol> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!-- 往被调试页面添加脚本 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://ip:端口/target/target-script-min.js#anonymous<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 示例 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://172.20.10.11:1000/target/target-script-min.js#anonymous<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="3"><li>调试</li></ol> <p>调试移动手机的页面需要手机访问局域网内的页面服务（例如react开启了3000端口的服务，那么手机访问ip+3000）</p> <p><img src="/assets/img/weinreremote.808031d3.png" alt=""></p> <p>扩展</p> <p><a href="https://people.apache.org/~pmuellr/weinre/docs/latest/Home.html" target="_blank" rel="noopener noreferrer">weinre官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_8-3-在移动端调试"><a href="#_8-3-在移动端调试" class="header-anchor">#</a> 8.3 在移动端调试</h2> <p>主流的移动端devTool</p> <ul><li>vConsole</li> <li>eruda</li></ul> <p>扩展资料</p> <p><a href="https://github.com/Tencent/vConsole" target="_blank" rel="noopener noreferrer">vConsole项目主页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://github.com/liriliri/eruda" target="_blank" rel="noopener noreferrer">eruda项目主页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><a href="https://github.com/Tencent/vConsole/blob/dev/doc/plugin_building_a_plugin.md" target="_blank" rel="noopener noreferrer">创建一个vConsole 插件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_8-4-使用代理服务器进行调试-charles"><a href="#_8-4-使用代理服务器进行调试-charles" class="header-anchor">#</a> 8.4 使用代理服务器进行调试（charles）</h2> <h3 id="_8-4-1-常见的代理服务器"><a href="#_8-4-1-常见的代理服务器" class="header-anchor">#</a> 8.4.1 常见的代理服务器</h3> <ul><li><p>Fiddler</p> <ul><li>C#编写</li> <li>正式版仅支持Windows</li> <li>请求展示：时间顺序</li> <li>支持解析HTTPS请求</li> <li>免费</li></ul></li> <li><p>Charles</p> <ul><li>java编写</li> <li>多平台支持</li> <li>请求展示：树状结构</li> <li>不支持直接解析HTTPS请求</li> <li>付费获得更好体验</li></ul></li></ul> <h3 id="_8-4-2-http抓包"><a href="#_8-4-2-http抓包" class="header-anchor">#</a> 8.4.2 HTTP抓包</h3> <ol><li>移动端配置（配置代理）</li></ol> <p>点击手机连接的Wi-Fi-&gt;HTTP代理-&gt;配置代理</p> <ul><li>服务器：填入电脑的ip地址(可以在charles查看 help-&gt;Local IP Address)</li> <li>端口：默认是8888</li></ul> <ol start="2"><li>开始抓包</li></ol> <p>工具栏第二个按钮（红色说明正在抓包）</p> <p><img src="/assets/img/charles1.9c9afd69.png" alt=""></p> <h3 id="_8-4-3-https抓包"><a href="#_8-4-3-https抓包" class="header-anchor">#</a> 8.4.3 HTTPS抓包</h3> <p>charles不能直接抓包https，所以我们还需要进行以下操作</p> <ol><li>移动端配置代理</li></ol> <p>与上面http配置完全相同<font color="red"><strong>（切记！！！这一步一定要做，只有配置了代理服务，才能下载证书，因为这是你电脑上charles给你颁发的，你换了电脑还需要另一个电脑给你颁发）</strong></font></p> <ol start="2"><li>添加要解析的域名列表</li></ol> <ul><li>菜单栏Proxy-&gt; SSL Proxying Settings</li> <li>在Host一栏设置要解析的域名，也可以*表示所有的HTTPS都做解析,port:443；点击ok后重启charles。</li></ul> <p><img src="/assets/img/charles2.b1d5cd90.png" alt=""></p> <p><font color="red"><strong>设置后重启charles</strong></font></p> <ol start="3"><li>信任Charles根证书</li></ol> <ul><li>在移动端用浏览器访问<code>https:chls.pro/ssl</code>下载证书描述文件
<ul><li>安卓：直接安装即可</li> <li>IOS：
<ol><li>在设置-通用-描述文件与设置管理中安装证书，</li> <li>然后开启 设置-通用-关于本机-针对根证书启用完全信任</li></ol></li></ul></li></ul> <p><font color="red"><strong>（当你访问上面chls网站时，电脑上charles会有一个弹窗询问你是否允许给手机安装证书，你要点同意（allow））</strong></font></p> <p>🍅 HTTPS 协议</p> <ul><li>https = http + sll（secure  sockets layer）</li></ul> <p>发送一个HTTPS请求的过程简单来说客户端是向服务端索取一个公钥放在客户端，公钥的载体就是数字证书；客户端通过公钥加密，服务端通过私钥解密。</p> <p>🍅 charles 代理HTTPS请求的机制</p> <p>charles做客户端和服务端的中介，代理了https请求；charles会动态为每个服务器生成由charles根证书签发的数字证书；当请求产生时客户端收到的不是
服务端的原始证书而是charles签发的证书，原始证书是保存在charles上的；客户端与服务端的通信是由charles公钥加密的，而charles与原始服务器的通信是
由服务端的原始证书加密的，charles通过自己的私钥解密，所以我们能通过charles看见未加密的数据。</p> <p>🍅  可能出现的问题</p> <ol><li>开启后电脑浏览器无法打开网页</li></ol> <p>关掉charles的External Proxy setting：点击顶部Proxy-&gt; 去掉勾选 External Proxy Settings</p> <ol start="2"><li><p>开启手机代理后浏览器无法打开网页</p> <ul><li>要保证电脑和手机同一个Wi-Fi,手机上填的代理服务器ip不要填错了，可以查看charles：Help/Local IP Address；端口一般是8888</li> <li>打开https的网站，会提醒不是安全连接，说明你证书没有安装正确，或者没有信任</li> <li>一般就上诉2个问题，也可以重启试试</li></ul></li> <li><p>关闭charles后 无法联网</p></li></ol> <p>打开网络偏好设置-&gt; 高级 -&gt; 代理 -&gt; 检测网页代理和安全网页代理是否开启（不需要开启，你关闭charles后就没有代理服务器了，记得手机也取消代理配置）</p> <ol start="4"><li>抓取手机端的返回的是unknow</li></ol> <ul><li><p>确保证书在手机端被信任</p></li> <li><p>safari浏览器访问<code>https:chls.pro/ssl</code>下载证书描述文件时候，确保配置了http代理（ip:8888），
如果换电脑需要再次下载证书，可以在描述文件中查看证书，charles通用名称中会包含你电脑系统的名称</p></li></ul> <ol start="5"><li>手机开启代理后，也能访问网页，但是电脑上的charles没有抓取到数据</li></ol> <ul><li>检查代理是否正确</li> <li>重启charles</li></ul> <h3 id="_8-4-4-map请求重定向"><a href="#_8-4-4-map请求重定向" class="header-anchor">#</a> 8.4.4 Map请求重定向</h3> <p>🍅 Map Local / Map Remote</p> <ul><li>生产环境代码打包压缩后不利于debug</li> <li>调试时不方便频繁发布</li> <li><code>Map Local</code>：将某请求重定向至本地某个文件</li> <li><code>Map Remote</code>：将某请求重定向至另一个请求</li> <li>将生成环境的代码替换成本地的代码</li></ul> <p>🍅 Map Remote</p> <p><img src="/assets/img/mapremote.cddfe811.png" alt=""></p> <p>尝试改动代码，查看页面变化</p> <p>🍅 Map Local</p> <p><img src="/assets/img/maplocal.43cd1f5b.png" alt=""></p> <p>Map Local可以替换任意charles能抓包到的文件，甚至可以将api请求替换成本地的json文件，做接口的一个mock，
其实就是一个文件的代理功能。</p> <p>如果想取消Map Local / Map Remote：charles顶部tools-&gt; Map Local / Map Remote -&gt; 不勾选enable map local/Remote-&gt; ok</p> <h3 id="_8-4-5-rewrite-修改请求内容"><a href="#_8-4-5-rewrite-修改请求内容" class="header-anchor">#</a> 8.4.5 Rewrite 修改请求内容</h3> <p>🍅 Rewrite功能</p> <ul><li>可作用于：request &amp; reponses</li> <li>可修改：header、host、path、url、params、body等</li> <li>采用新增、替换的形式</li></ul> <p>🍅 案例</p> <p>向生产环境页面注入vConsole脚本</p> <ol><li>顶部tools-&gt; Rewrite</li></ol> <p>添加匹配location
<img src="/assets/img/rewrite1.3e273fbb.png" alt=""></p> <p>添加rewrite规则</p> <p><img src="/assets/img/rewrite2.f87b0898.png" alt=""></p> <p>上面其实就是将<code>&lt;/head&gt;</code>标签替换成 <code>&lt;script src=&quot;&lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vConsole/2.5.0/vconsole.min.js&quot;&gt;&lt;/script&gt;&quot;&gt;new VConsole()&lt;/script&gt;&lt;/head&gt;</code></p> <h2 id="_8-5-在公网访问本地服务"><a href="#_8-5-在公网访问本地服务" class="header-anchor">#</a> 8.5 在公网访问本地服务</h2> <h3 id="_8-5-1-内网穿透"><a href="#_8-5-1-内网穿透" class="header-anchor">#</a> 8.5.1 内网穿透</h3> <h4 id="什么叫内网穿透"><a href="#什么叫内网穿透" class="header-anchor">#</a> 什么叫内网穿透</h4> <ul><li>NAT（Network Address Translation）穿透</li> <li>从公网访问内网</li> <li>在公网访问部署在本地服务器上的服务</li> <li>ngrok &amp; localtunnel
<ul><li>生成唯一可在公网访问的url，该url会在代理本地运行的web服务请求</li></ul></li></ul> <h3 id="_8-5-2-localtunnel的使用"><a href="#_8-5-2-localtunnel的使用" class="header-anchor">#</a> 8.5.2 localtunnel的使用</h3> <ol><li>安装</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>    <span class="token function">npm</span> <span class="token function">install</span> -g localtunnel
    lt --help <span class="token comment"># 帮助信息</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>启动</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>    <span class="token comment"># -p 本地启动服务的端口，-s 指定自己子域名地址，也可以不指定</span>
    lt -p <span class="token number">3000</span> -h https://tunnel.svrx.io -s mayi
    <span class="token comment"># 启动成功后 your url is: https://mayi.tunnel.svrx.io</span>
    <span class="token comment"># 访问地址 https://mayi.tunnel.svrx.io</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_8-5-3-部署你的localtunnel服务"><a href="#_8-5-3-部署你的localtunnel服务" class="header-anchor">#</a> 8.5.3 部署你的localtunnel服务</h3> <ul><li>localtunnel默认服务在外国，不稳定，访问速度慢</li> <li>自己部署lt服务的机器需要满足：
<ol><li>支持DNS泛域名解析，比如：mydomain.com 和 *.mydomain.com</li> <li>Localtunnel服务端能监听任何非root权限的TCP端口</li></ol></li></ul> <ol><li><p>配置dns解析
添加两个A类记录</p> <ul><li>mydomain.com</li> <li>*.mydomain.com</li></ul></li> <li><p>启动localtunnel server</p></li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>    <span class="token function">git</span> clone git://github.com/defunctzombie/localtunnel-server.git
    <span class="token builtin class-name">cd</span> localtunnel-server
    <span class="token function">npm</span> <span class="token function">install</span>
    bin/server --port <span class="token number">1234</span>
    bin/server --port <span class="token number">1234</span> --domain sub.mydomain.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>在localtunnel客户端使用部署的host</li></ol> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>    lt --host http://sub.mydomain.com:1234  --port <span class="token number">8000</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_8-6-随机数据生成-mock"><a href="#_8-6-随机数据生成-mock" class="header-anchor">#</a> 8.6 随机数据生成（mock）</h2> <h4 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h4> <ul><li><p>“生成随机数据，拦截Ajax请求“</p></li> <li><p>业务代码物侵入</p></li> <li><p>数据类型丰富</p></li> <li><p>用法简单，可扩展性强</p></li></ul> <h3 id="_8-6-1-mock-js-的安装及基本语法"><a href="#_8-6-1-mock-js-的安装及基本语法" class="header-anchor">#</a> 8.6.1 Mock.js 的安装及基本语法</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 安装</span>
npm install mockjs

<span class="token comment">// 基本用法</span>
<span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// 属性list 的值是一个数组，其中含有 1 到 10个元素，数组里的对象数量是随机的</span>
  <span class="token string">'list|1-10'</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token comment">// 属性id 是一个子增函数，起始值为1，每次增1</span>
    <span class="token string">'id|+1'</span><span class="token operator">:</span><span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 输出结果</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>🍅 mockjs的语法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// name 是属性名，rule是规则 ，value是属性值；属性名和规则之间是用|分割的</span>
<span class="token string">'name|rule'</span><span class="token operator">:</span>  value
 name<span class="token operator">:</span> value

<span class="token number">1.</span> <span class="token string">'name|min-max'</span><span class="token operator">:</span> value
<span class="token number">2.</span> <span class="token string">'name|count'</span><span class="token operator">:</span> value
<span class="token number">3.</span> <span class="token string">'name|min-max.dmin-dmax'</span><span class="token operator">:</span> value
<span class="token number">4.</span> <span class="token string">'name|min-max.dcount'</span><span class="token operator">:</span> value
<span class="token number">5.</span> <span class="token string">'name|count.dmin-dmax'</span><span class="token operator">:</span> value
<span class="token number">6.</span> <span class="token string">'name|count.dcount'</span><span class="token operator">:</span>  value
<span class="token number">7.</span> <span class="token string">'name|+step'</span><span class="token operator">:</span> value
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>属性值决定了规则的初始值和类型</li> <li>生成规则的含义需要依赖属性值的类型才能确定</li></ul> <ol><li>属性值是字符串</li></ol> <ul><li>将value字符串重复min-max次</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1. 'name|min-max': value  生成的数量是随机的</span>
<span class="token punctuation">{</span><span class="token string">'repeater|1-5'</span><span class="token operator">:</span> <span class="token string">'hi!'</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> repeater<span class="token operator">:</span> <span class="token string">'hi!hi!hi!'</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>将value字符串重复count次</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 2. 'name|count': value</span>
<span class="token punctuation">{</span><span class="token string">'repeater|2'</span><span class="token operator">:</span> <span class="token string">'hi!'</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>repeater<span class="token operator">:</span> <span class="token string">'hi!hi!'</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>属性值是数字</li></ol> <ul><li>随机生成min-max 范围内的一个数字</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token comment">// 1. 'name|min-max': value</span>
 <span class="token comment">// 现在value是数字，属性值决定了初始值，1和50也可以换成其他数字；不影响结果</span>
 <span class="token punctuation">{</span><span class="token string">'age|1-30'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token number">22</span> <span class="token punctuation">}</span>
 <span class="token punctuation">{</span><span class="token string">'age|1-30'</span><span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> age<span class="token operator">:</span><span class="token number">15</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>随机生成一个小数，整数部分值在min-max范围内，小数部分位数在dmin-dmax之间</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 'name|min-max.dmin-dmax':vlaue</span>
<span class="token punctuation">{</span> <span class="token string">'price|1-30.2-3'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> price<span class="token operator">:</span> <span class="token number">20.28</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">'price|1-30.2-3'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> price<span class="token operator">:</span> <span class="token number">4.827</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>属性值是布尔值</li></ol> <ul><li>随机生成一个布尔值，其中value和!value的比例为min-max
<ul><li>value 概率 = min / (min+max)</li> <li>!value 概率 = max / (min + max)</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">// 'name|min-max':vlaue</span>
  <span class="token punctuation">{</span> <span class="token string">'active|1-1'</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> active<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
  <span class="token punctuation">{</span> <span class="token string">'active|1-1'</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> active<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>属性值是对象</li></ol> <ul><li>从value中随机min-max个属性</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token comment">// 'name|min-max': vaule</span>
  <span class="token punctuation">{</span> <span class="token string">'user|1-2'</span><span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> user<span class="token operator">:</span> <span class="token punctuation">{</span> age<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token punctuation">{</span> <span class="token string">'use|1-2'</span><span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> user<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span> age<span class="token operator">:</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>从value中随机取count个属性</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 从value中随机取count个属性</span>
<span class="token comment">// ‘name|count’: value</span>
<span class="token punctuation">{</span> <span class="token string">'user|1'</span><span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> user<span class="token operator">:</span> <span class="token punctuation">{</span> age<span class="token operator">:</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="4"><li>属性值是数组</li></ol> <ul><li>从value列表中随机获取1个元素</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span> <span class="token string">'fruit|1'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span><span class="token string">'banana'</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> fruit<span class="token operator">:</span> <span class="token string">'banana'</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>将value列表内的值重复min-max次</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span> <span class="token string">'list|1-2'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span> <span class="token string">'list|1-2'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="5"><li>属性值是其它类型</li></ol> <ul><li>生成值为function执行结果</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// function</span>
<span class="token punctuation">{</span> <span class="token function-variable function">age</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> age<span class="token operator">:</span><span class="token number">1</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>随机生成符合正则表达式的字符串</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// reExp</span>
<span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">1[0-9]</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token string">'19'</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_8-6-2-mock-js的常用方法"><a href="#_8-6-2-mock-js的常用方法" class="header-anchor">#</a> 8.6.2 Mock.js的常用方法</h3> <ol><li>Mock.mock()</li></ol> <ul><li>Mock.mock(rurl?,rtype?,template|function(options))
<ul><li>rurl： 要拦截的请求url，支持正则</li> <li>rtype：要拦截的请求类型，如POST、GET、DELETE等</li> <li>template：数据模版，支持对象、字符串</li> <li>function(options): 生成相应数据的方法，options：{ url,type,body }</li></ul></li></ul> <p>🍅 使用mock()方法拦截请求</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//  在入口文件中引入mockjs，对 ‘api/activity‘进行拦截</span>
<span class="token keyword">import</span> Mock <span class="token keyword">from</span> <span class="token string">'mockjs'</span><span class="token punctuation">;</span>

<span class="token keyword">if</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">)</span>
    Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">api\/activity</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span><span class="token punctuation">{</span>
      code<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
      data<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">'isLegal|2-1'</span><span class="token operator">:</span><span class="token boolean">false</span>
      <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="2"><li>Mock.Random</li></ol> <ul><li>工具类</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Random <span class="token punctuation">}</span>  <span class="token operator">=</span>  Mock<span class="token punctuation">;</span>
Random<span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; &quot;n.abc.@miller.io&quot;</span>
Random<span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// =&gt; http://dummyimage.com/336x330</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>🍅 Mock.Random 支持的方法</p> <table><thead><tr><th style="text-align:center;">type</th> <th style="text-align:center;">Method</th></tr></thead> <tbody><tr><td style="text-align:center;">Basic</td> <td style="text-align:center;">boolean、natural、integer、float、character、string、range、date、time、datetime、now</td></tr> <tr><td style="text-align:center;">Image</td> <td style="text-align:center;">image、dateImage</td></tr> <tr><td style="text-align:center;">Color</td> <td style="text-align:center;">color</td></tr> <tr><td style="text-align:center;">Text</td> <td style="text-align:center;">paragraph、sentence、word、title、cparagraph</td></tr> <tr><td style="text-align:center;">Name</td> <td style="text-align:center;">first、last、name、cfirst、clast、cname</td></tr> <tr><td style="text-align:center;">Web</td> <td style="text-align:center;">url、domain、email、ip、tld</td></tr> <tr><td style="text-align:center;">Address</td> <td style="text-align:center;">area、region</td></tr> <tr><td style="text-align:center;">Helper</td> <td style="text-align:center;">capitalize、upper、lower、pick、shuffle</td></tr> <tr><td style="text-align:center;">Miscellaneous</td> <td style="text-align:center;">guid、id</td></tr></tbody></table> <p>🍅 Mock.Random 与模版语法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> Random <span class="token punctuation">}</span> <span class="token operator">=</span> Mock
<span class="token keyword">const</span> user <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  code<span class="token operator">:</span> <span class="token string">'200'</span><span class="token punctuation">,</span>
  <span class="token string">'list|10'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Random<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>Random<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    avatar<span class="token operator">:</span> Random<span class="token punctuation">.</span><span class="token function">image</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">users</span><span class="token punctuation">)</span>

<span class="token punctuation">{</span>
  code<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
  list<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'Sarah Leris'</span><span class="token punctuation">,</span> avatar<span class="token operator">:</span> <span class="token string">'http://dummyimage.com/300x600'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'Sarah Leris'</span><span class="token punctuation">,</span> avatar<span class="token operator">:</span> <span class="token string">'http://dummyimage.com/300x600'</span><span class="token punctuation">}</span>
    <span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 10个相同的对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>由于用<code>Random</code>生成的都是一样的，这可能不是我们想要的，我们想要每一个对象里的数据都不一样，那就看下面的占位符。</p> <p>🍅 Mock.js 的占位符</p> <ul><li>占位符</li> <li>使用最广泛</li> <li>@占位符</li> <li>@占位符（参数、[,参数]）</li> <li>只是在属性值字符串中占个位置，并不出现在最终的属性值中</li> <li>实际采用Random中的方法计算</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span>  <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> Random <span class="token punctuation">}</span> <span class="token operator">=</span> Mock
<span class="token keyword">const</span> user <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 code<span class="token operator">:</span> <span class="token string">'200'</span><span class="token punctuation">,</span>
 <span class="token string">'list|10'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
   name<span class="token operator">:</span> <span class="token string">'@first @last'</span><span class="token punctuation">,</span>
   avatar<span class="token operator">:</span> <span class="token string">'@image'</span>
 <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">users</span><span class="token punctuation">)</span>

<span class="token punctuation">{</span>
 code<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
 list<span class="token operator">:</span> <span class="token punctuation">[</span>
   <span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'Carol Brown'</span><span class="token punctuation">,</span> avatar<span class="token operator">:</span> <span class="token string">'http://dummyimage.com/3335x220'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">{</span> name<span class="token operator">:</span><span class="token string">'Angela Lopez'</span><span class="token punctuation">,</span> avatar<span class="token operator">:</span> <span class="token string">'http://dummyimage.com/378x600'</span><span class="token punctuation">}</span>
   <span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
 <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token comment">// 10个不同的对象</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="_8-7-restful-api-快速模拟"><a href="#_8-7-restful-api-快速模拟" class="header-anchor">#</a> 8.7 RestFul API 快速模拟</h2> <h3 id="_8-7-1-复杂的接口mock场景"><a href="#_8-7-1-复杂的接口mock场景" class="header-anchor">#</a> 8.7.1 复杂的接口mock场景</h3> <h4 id="restful-api"><a href="#restful-api" class="header-anchor">#</a> RESTful API</h4> <ul><li>REpresentational State Transfer 表现层</li> <li>资源是由URI来指定：/songs(代表歌曲)  /playlist/12（代表第12个playlist）</li> <li>对资源的操作包括增删改查：POST、DELETE、PUT和GET方法</li> <li>是一套API设计理论，约束规范、增强可读性、便于开发</li></ul> <h4 id="restful-规范"><a href="#restful-规范" class="header-anchor">#</a> RESTful 规范</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>GET http://abc.com/api/playlists <span class="token comment"># 获取歌单列表</span>
GET http://abc.com/api/playlist/12345 <span class="token comment"># 获取id为123456的歌单</span>
POST http://abc.com/api/playlists <span class="token comment"># 添加一个歌单</span>
DELETE http://music.163.com/api/palylist/55 <span class="token comment"># 删除id为 55 的歌单</span>
PUT http://music.163.com/api/palylist/123456 <span class="token comment"># 删除id为 123456 的歌单</span>

GET ： 返回资源对象
POST ：返回新生成的资源对象
PUT ：返回完整的资源对象
DELETE：返回一个空文档

<span class="token punctuation">{</span>
  <span class="token string">&quot;code&quot;</span><span class="token builtin class-name">:</span> <span class="token number">200</span>,
  <span class="token string">&quot;message&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;success&quot;</span>,
  <span class="token string">&quot;data&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    playlist: <span class="token punctuation">{</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

HTTP 状态码：
2xx： 请求成功
3xx：重定向
4xx：客户端错误
5xx：服务端错误
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><ul><li>如何mock对同一个资源的增删改查</li> <li>在前端运行、可以存储数据的server</li> <li>JSON-Server ：零开发，快速模拟RESTful API</li></ul> <h3 id="_8-7-2-json-server-的安装和用法"><a href="#_8-7-2-json-server-的安装和用法" class="header-anchor">#</a> 8.7.2 JSON-server 的安装和用法</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// install</span>
npm install <span class="token operator">-</span>g json<span class="token operator">-</span>server

<span class="token comment">// db.json</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;songs&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Baby&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;comments&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nice&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

<span class="token comment">// start server</span>
json<span class="token operator">-</span>server <span class="token operator">--</span>watch db<span class="token punctuation">.</span>json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>运行成功输出的日志</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  \<span class="token punctuation">{</span><span class="token operator">^</span>_<span class="token operator">^</span><span class="token punctuation">}</span><span class="token operator">/</span> hi<span class="token operator">!</span>

  Loading <span class="token punctuation">.</span><span class="token operator">/</span>db<span class="token punctuation">.</span>json
  Done

  Resources
  http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>songs
  http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>comments

  Home
  http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">3000</span>

  Type s <span class="token operator">+</span> enter at any time to create a snapshot <span class="token keyword">of</span> the database
  Watching<span class="token operator">...</span>

<span class="token constant">GET</span> <span class="token operator">/</span>songs <span class="token number">200</span> <span class="token number">8.036</span> ms <span class="token operator">-</span> <span class="token number">43</span>
<span class="token constant">GET</span> <span class="token operator">/</span>songs <span class="token number">304</span> <span class="token number">3.381</span> ms <span class="token operator">-</span> <span class="token operator">-</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>GET http://localhost:3000/songs/1 会返回 { &quot;id&quot;:1,&quot;name&quot;:&quot;Baby&quot;} 根据songs/1路由1进行筛选</p> <p>POST、PUT、PATCH、DELETE 操作会改变db.json文件的内容</p> <p>🍅 Routes 规则-过滤</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;songs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;吻别&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;artist&quot;</span><span class="token operator">:</span> <span class="token string">&quot;张学友&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;燃烧我的卡路里 &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;artist&quot;</span><span class="token operator">:</span> <span class="token string">&quot;火箭少女 101&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;麻雀&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;artist&quot;</span><span class="token operator">:</span> <span class="token string">&quot;李荣浩&quot;</span> <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;comments&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token string">&quot;id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;content&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nice&quot;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token constant">GET</span> <span class="token operator">/</span>songs<span class="token operator">?</span>artist<span class="token operator">=</span>张学友
<span class="token constant">GET</span> <span class="token operator">/</span>songs<span class="token operator">?</span>artist<span class="token operator">=</span>张学友<span class="token operator">&amp;</span>arttist<span class="token operator">=</span>李荣浩
<span class="token constant">GET</span> <span class="token operator">/</span>comments<span class="token operator">?</span>author<span class="token punctuation">.</span>id<span class="token operator">=</span><span class="token number">1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>🍅 Routes 规则-翻页与排序</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 以_开头的是json-server的保留字</span>
<span class="token comment">// 分页</span>
<span class="token constant">GET</span> <span class="token operator">/</span>songs<span class="token operator">?</span>_page<span class="token operator">=</span><span class="token number">2</span>
<span class="token constant">GET</span> <span class="token operator">/</span>songs<span class="token operator">?</span>_page<span class="token operator">=</span><span class="token number">1</span><span class="token operator">&amp;</span>_limit<span class="token operator">=</span><span class="token number">15</span>

<span class="token comment">// 排序</span>
<span class="token constant">GET</span> <span class="token operator">/</span>songs<span class="token operator">?</span>_sort<span class="token operator">=</span>id<span class="token operator">&amp;</span>_order<span class="token operator">=</span>asc

<span class="token comment">// 多字段排序</span>
<span class="token constant">GET</span> <span class="token operator">/</span>songs<span class="token operator">/</span>_sort<span class="token operator">=</span>id<span class="token punctuation">,</span>name<span class="token operator">&amp;</span>_order<span class="token operator">=</span>desc<span class="token punctuation">,</span>asc
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>🍅 Routes 规则-查询</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// operators:</span>
<span class="token comment">// _gte _lte _ne 大约小于等于</span>
<span class="token constant">GET</span> <span class="token operator">/</span>users<span class="token operator">?</span>age_gte<span class="token operator">=</span><span class="token number">10</span><span class="token operator">&amp;</span>age_lte<span class="token operator">=</span><span class="token number">20</span> 
<span class="token constant">GET</span> <span class="token operator">/</span>users<span class="token operator">?</span>age_ne<span class="token operator">=</span><span class="token number">18</span>

<span class="token comment">// _like 支持正则</span>
<span class="token constant">GET</span> <span class="token operator">/</span>songs<span class="token operator">?</span>name_like<span class="token operator">=</span>爱

<span class="token comment">// q 全局搜索</span>
<span class="token constant">GET</span> <span class="token operator">/</span>songs<span class="token operator">?</span>q<span class="token operator">=</span>喜欢
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>🍅 自定义 routes</p> <ul><li>更贴近后端接口</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// routes.json</span>
<span class="token comment">// 左边是实际访问的路径，右边是资源的路径</span>
<span class="token punctuation">{</span>
  <span class="token string">&quot;/api/*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/$1&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;/:resource/:id/show&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/:resource/:id&quot;</span><span class="token punctuation">,</span> 
  <span class="token string">&quot;/posts/:category&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/posts?category=:cagegory&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;/articles\\?id=:id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/posts/:id&quot;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 添加启动参数：json-server db.json --routes routes.json</span>
<span class="token operator">/</span>api<span class="token operator">/</span>posts <span class="token comment">// -&gt; /posts</span>
<span class="token operator">/</span>api<span class="token operator">/</span>posts<span class="token operator">/</span><span class="token number">1</span>  <span class="token comment">// -&gt; /posts/1</span>
<span class="token operator">/</span>posts<span class="token operator">/</span><span class="token number">1</span><span class="token operator">/</span>show <span class="token comment">//  -&gt; /posts/1</span>
<span class="token operator">/</span>posts<span class="token operator">/</span>javascript <span class="token comment">// -&gt; posts?category=javascript</span>
<span class="token operator">/</span>articles<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">1</span> <span class="token comment">// -&gt; /posts/1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>🍅 添加 middleware</p> <ul><li>统一定制个性化请求</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// my-middleware.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res <span class="token punctuation">,</span>next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">'X-token'</span><span class="token punctuation">,</span><span class="token string">&quot;xxxxx&quot;</span><span class="token punctuation">)</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 启动</span>
json<span class="token operator">-</span>server db<span class="token punctuation">.</span>json <span class="token operator">--</span>middlewares <span class="token punctuation">.</span><span class="token operator">/</span>my<span class="token operator">-</span>middleware<span class="token punctuation">.</span>js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="_8-7-3-生成随机数据"><a href="#_8-7-3-生成随机数据" class="header-anchor">#</a> 8.7.3 生成随机数据</h3> <p>当数据量过大时候，我们不能手写庞大数据量的db.json,json-server也支持js对象。</p> <p>快速生成随机数据-Mock.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// index.js</span>
<span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mock.js'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token string">'user|1000'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
      <span class="token string">'id|+1'</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">'name'</span><span class="token operator">:</span> <span class="token string">'@first @last'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> data
<span class="token punctuation">}</span>
<span class="token comment">// 启动</span>
json<span class="token operator">-</span>server index<span class="token punctuation">.</span>js <span class="token operator">--</span>middlewares <span class="token punctuation">.</span><span class="token operator">/</span>my<span class="token operator">-</span>middleware<span class="token punctuation">.</span>js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="_8-7-4-json-server的基本使用"><a href="#_8-7-4-json-server的基本使用" class="header-anchor">#</a> 8.7.4 JSON-Server的基本使用</h3> <p>搭配Mock.js 生成随机数据接口</p> <p>🍅 查询歌单列表</p> <p>新建文件index.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mockjs'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span><span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string">'playlists|100'</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
            <span class="token string">'id|+1'</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token string">'name'</span><span class="token operator">:</span> <span class="token string">'@title'</span><span class="token punctuation">,</span>
            <span class="token string">'cover'</span><span class="token operator">:</span> <span class="token string">'@image'</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> data
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>新建routes.json</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// /api/music/ 下面所有的请求转发到去掉这个前缀的下面</span>
<span class="token comment">// $1 表示任意的字符</span>
<span class="token punctuation">{</span>
    <span class="token property">&quot;/api/music/*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/$1&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>启动 <code>json-server index.js --routes routes.json</code></p> <p>访问 <code>http://localhost:3000/api/music/playlists</code>可以获得100条数据</p> <p>🍅 查询分页的歌单</p> <p>修改routes.json</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;/api/music/*&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/$1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;/playlists\\?limit=:limit&amp;offset=:offset&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/playlists?_start=:offset&amp;_limit=:limit&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>启动 <code>json-server index.js --routes routes.json</code></p> <p>访问 <code>http://localhost:3000/api/music/playlists?limit=10&amp;offset=20</code>从20开始返回10条数据</p> <p>🍅 新增一个歌单</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 用curl模拟一下请求 参数{&quot;name&quot;:&quot;夜曲&quot;,&quot;cover&quot;:&quot;xxxx&quot;}</span>
curl localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>api<span class="token operator">/</span>music<span class="token operator">/</span>playlists <span class="token operator">-</span><span class="token constant">X</span> <span class="token constant">POST</span> <span class="token operator">-</span>d <span class="token string">'{&quot;name&quot;:&quot;夜曲&quot;,&quot;cover&quot;:&quot;xxxx&quot;}'</span> <span class="token operator">-</span><span class="token constant">H</span> <span class="token string">'Content-Type: application/json'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>🍅 修改一个歌单</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>curl localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>api<span class="token operator">/</span>music<span class="token operator">/</span>playlists<span class="token operator">/</span><span class="token number">101</span> <span class="token operator">-</span><span class="token constant">X</span> <span class="token constant">PUT</span> <span class="token operator">-</span>d <span class="token string">'{&quot;id&quot;:101,&quot;name&quot;:&quot;月半小夜曲&quot;,&quot;cover&quot;:&quot;xxxx&quot;}'</span> <span class="token operator">-</span><span class="token constant">H</span> <span class="token string">'Content-Type: application/json'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>🍅 删除一个歌单</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>curl localhost<span class="token operator">:</span><span class="token number">3000</span><span class="token operator">/</span>api<span class="token operator">/</span>music<span class="token operator">/</span>playlists<span class="token operator">/</span><span class="token number">101</span> <span class="token operator">-</span><span class="token constant">X</span> <span class="token constant">DELETE</span>  <span class="token operator">-</span><span class="token constant">H</span> <span class="token string">'Content-Type: application/json'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>以上也可以用postman模拟请求</p> <h4 id="给所有的响应头添加header"><a href="#给所有的响应头添加header" class="header-anchor">#</a> 给所有的响应头添加header</h4> <p>新建middleware.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>json<span class="token operator">-</span>server index<span class="token punctuation">.</span>js <span class="token operator">--</span>routes routes<span class="token punctuation">.</span>json <span class="token operator">--</span>middleware middleware<span class="token punctuation">.</span>js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>源码地址：/examples/engineering/8.6</p> <h2 id="_8-8-stream-手机抓包app"><a href="#_8-8-stream-手机抓包app" class="header-anchor">#</a> 8.8 Stream 手机抓包APP</h2> <p>安装软件-&gt; 安装证书-&gt; 信任证书
</p><p align="left"><img width="260px" src="/assets/img/stream.8693002f.jpeg"></p><p></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">5/13/2025, 7:45:34 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/engineering/git.html" class="prev">Git操作</a></span> <span class="next"><a href="/applets/performance.html">小程序进阶</a>
      →
    </span></p></div> </main> <footer class="footer" data-v-266a5a28><div class="container" data-v-266a5a28><p class="text-center" data-v-266a5a28>© 2024 web全栈体系. All Rights Reserved.（所有文章未经授权禁止转载、摘编、复制或建立镜像，如有违反，追究法律责任。）</p> <p class="text-center" data-v-266a5a28><a href="https://beian.miit.gov.cn" target="_blank" data-v-266a5a28>豫ICP备19041317号-1</a></p></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0f616eb6.js" defer></script><script src="/assets/js/3.9750fba5.js" defer></script><script src="/assets/js/2.6aa46093.js" defer></script><script src="/assets/js/9.bfaf9c10.js" defer></script>
  </body>
</html>
