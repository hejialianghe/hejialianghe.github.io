<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>计算机网络简史 | web全栈体系</title>
    <meta name="description" content="你好，朋友">
    <link rel="icon" href="/logo.png">
    
    <link rel="preload" href="/assets/css/0.styles.5718d53e.css" as="style"><link rel="preload" href="/assets/js/app.0f616eb6.js" as="script"><link rel="preload" href="/assets/js/3.9750fba5.js" as="script"><link rel="preload" href="/assets/js/2.6aa46093.js" as="script"><link rel="preload" href="/assets/js/4.aa28cc69.js" as="script"><link rel="prefetch" href="/assets/js/10.3b417cc7.js"><link rel="prefetch" href="/assets/js/100.450b51bc.js"><link rel="prefetch" href="/assets/js/101.02365136.js"><link rel="prefetch" href="/assets/js/102.23f6118f.js"><link rel="prefetch" href="/assets/js/103.4decf838.js"><link rel="prefetch" href="/assets/js/104.d39cfd73.js"><link rel="prefetch" href="/assets/js/105.88534338.js"><link rel="prefetch" href="/assets/js/106.366d0b59.js"><link rel="prefetch" href="/assets/js/107.cf3cfcba.js"><link rel="prefetch" href="/assets/js/108.21694919.js"><link rel="prefetch" href="/assets/js/109.4e4fd62e.js"><link rel="prefetch" href="/assets/js/11.9d20f01b.js"><link rel="prefetch" href="/assets/js/110.aeb394e4.js"><link rel="prefetch" href="/assets/js/111.d6595775.js"><link rel="prefetch" href="/assets/js/12.ac6dcc46.js"><link rel="prefetch" href="/assets/js/13.3990b71a.js"><link rel="prefetch" href="/assets/js/14.42418305.js"><link rel="prefetch" href="/assets/js/15.3e7fea41.js"><link rel="prefetch" href="/assets/js/16.e9242241.js"><link rel="prefetch" href="/assets/js/17.5cb2a82b.js"><link rel="prefetch" href="/assets/js/18.09a2ee08.js"><link rel="prefetch" href="/assets/js/19.5e018236.js"><link rel="prefetch" href="/assets/js/20.2f6aad81.js"><link rel="prefetch" href="/assets/js/21.56a0a87d.js"><link rel="prefetch" href="/assets/js/22.37a8fef4.js"><link rel="prefetch" href="/assets/js/23.75c65558.js"><link rel="prefetch" href="/assets/js/24.19255d9b.js"><link rel="prefetch" href="/assets/js/25.b96e970c.js"><link rel="prefetch" href="/assets/js/26.8043101d.js"><link rel="prefetch" href="/assets/js/27.c05d3044.js"><link rel="prefetch" href="/assets/js/28.c0aa90a2.js"><link rel="prefetch" href="/assets/js/29.06c0191d.js"><link rel="prefetch" href="/assets/js/30.975fb305.js"><link rel="prefetch" href="/assets/js/31.0cba5310.js"><link rel="prefetch" href="/assets/js/32.d8bc188f.js"><link rel="prefetch" href="/assets/js/33.384f6578.js"><link rel="prefetch" href="/assets/js/34.6baca6a7.js"><link rel="prefetch" href="/assets/js/35.96ec3f3e.js"><link rel="prefetch" href="/assets/js/36.bd945c36.js"><link rel="prefetch" href="/assets/js/37.be27655b.js"><link rel="prefetch" href="/assets/js/38.e8e93b37.js"><link rel="prefetch" href="/assets/js/39.ef88fac1.js"><link rel="prefetch" href="/assets/js/40.b6dad60d.js"><link rel="prefetch" href="/assets/js/41.c762ef5a.js"><link rel="prefetch" href="/assets/js/42.151d8a58.js"><link rel="prefetch" href="/assets/js/43.632c642f.js"><link rel="prefetch" href="/assets/js/44.2e34b5d9.js"><link rel="prefetch" href="/assets/js/45.94f8db29.js"><link rel="prefetch" href="/assets/js/46.57527f8f.js"><link rel="prefetch" href="/assets/js/47.44a84132.js"><link rel="prefetch" href="/assets/js/48.66958018.js"><link rel="prefetch" href="/assets/js/49.21739b30.js"><link rel="prefetch" href="/assets/js/5.e06ff02e.js"><link rel="prefetch" href="/assets/js/50.000c5d7c.js"><link rel="prefetch" href="/assets/js/51.b59a6470.js"><link rel="prefetch" href="/assets/js/52.3a475ad4.js"><link rel="prefetch" href="/assets/js/53.9801890b.js"><link rel="prefetch" href="/assets/js/54.269a45cd.js"><link rel="prefetch" href="/assets/js/55.91e89997.js"><link rel="prefetch" href="/assets/js/56.493b7ae8.js"><link rel="prefetch" href="/assets/js/57.ec46c27c.js"><link rel="prefetch" href="/assets/js/58.56202f8d.js"><link rel="prefetch" href="/assets/js/59.4dac8d8a.js"><link rel="prefetch" href="/assets/js/6.45a79ebc.js"><link rel="prefetch" href="/assets/js/60.77f7cd1f.js"><link rel="prefetch" href="/assets/js/61.a48bae63.js"><link rel="prefetch" href="/assets/js/62.626e88b6.js"><link rel="prefetch" href="/assets/js/63.9d36ed5d.js"><link rel="prefetch" href="/assets/js/64.a6a4e5c6.js"><link rel="prefetch" href="/assets/js/65.e32c3a18.js"><link rel="prefetch" href="/assets/js/66.0de20cc0.js"><link rel="prefetch" href="/assets/js/67.b24d4adf.js"><link rel="prefetch" href="/assets/js/68.7269173e.js"><link rel="prefetch" href="/assets/js/69.9999d01e.js"><link rel="prefetch" href="/assets/js/7.1a1f32a2.js"><link rel="prefetch" href="/assets/js/70.a45e1785.js"><link rel="prefetch" href="/assets/js/71.d443735d.js"><link rel="prefetch" href="/assets/js/72.56bd9ca0.js"><link rel="prefetch" href="/assets/js/73.4a484020.js"><link rel="prefetch" href="/assets/js/74.d0f77ba8.js"><link rel="prefetch" href="/assets/js/75.8595de75.js"><link rel="prefetch" href="/assets/js/76.b89309e6.js"><link rel="prefetch" href="/assets/js/77.1a28c952.js"><link rel="prefetch" href="/assets/js/78.156340fe.js"><link rel="prefetch" href="/assets/js/79.bc68f887.js"><link rel="prefetch" href="/assets/js/8.ffcc6d32.js"><link rel="prefetch" href="/assets/js/80.00742412.js"><link rel="prefetch" href="/assets/js/81.d07bf30f.js"><link rel="prefetch" href="/assets/js/82.dd648b4e.js"><link rel="prefetch" href="/assets/js/83.50310bd1.js"><link rel="prefetch" href="/assets/js/84.8b446b87.js"><link rel="prefetch" href="/assets/js/85.1bbf1222.js"><link rel="prefetch" href="/assets/js/86.b1112682.js"><link rel="prefetch" href="/assets/js/87.5353ad37.js"><link rel="prefetch" href="/assets/js/88.3bc7938a.js"><link rel="prefetch" href="/assets/js/89.c9d6877e.js"><link rel="prefetch" href="/assets/js/9.bfaf9c10.js"><link rel="prefetch" href="/assets/js/90.f7c20556.js"><link rel="prefetch" href="/assets/js/91.72437dd2.js"><link rel="prefetch" href="/assets/js/92.2a17869e.js"><link rel="prefetch" href="/assets/js/93.cc33ea11.js"><link rel="prefetch" href="/assets/js/94.49e5d122.js"><link rel="prefetch" href="/assets/js/95.9c954379.js"><link rel="prefetch" href="/assets/js/96.638e1dee.js"><link rel="prefetch" href="/assets/js/97.c2372908.js"><link rel="prefetch" href="/assets/js/98.762254ac.js"><link rel="prefetch" href="/assets/js/99.29af3121.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5718d53e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-266a5a28><header class="navbar" data-v-266a5a28><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="web全栈体系" class="logo"> <span class="site-name can-hide">web全栈体系</span></a> <div class="carousel" data-v-1a4d21d9></div> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><a href="https://github.com/hejialianghe" class="repo-star"><img src="https://img.shields.io/github/stars/hejialianghe/Senior-FrontEnd.svg?style=flat-square" alt></a> <div class="nav-item"><a href="/algorithm/complexity.html" class="nav-link">算法小册</a></div><div class="nav-item"><a href="/guide/" class="nav-link">web体系</a></div><div class="nav-item"><a href="/fp/react/build-react.html" class="nav-link">框架原理</a></div><div class="nav-item"><a href="https://github.com/hejialianghe/Senior-FrontEnd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitee.com/hejialianghe/Senior-FrontEnd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computerNetwork/protocal.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en-US/computerNetwork/protocal.html" class="nav-link">English</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-266a5a28></div> <aside class="sidebar" data-v-266a5a28><nav class="nav-links"><a href="https://github.com/hejialianghe" class="repo-star"><img src="https://img.shields.io/github/stars/hejialianghe/Senior-FrontEnd.svg?style=flat-square" alt></a> <div class="nav-item"><a href="/algorithm/complexity.html" class="nav-link">算法小册</a></div><div class="nav-item"><a href="/guide/" class="nav-link">web体系</a></div><div class="nav-item"><a href="/fp/react/build-react.html" class="nav-link">框架原理</a></div><div class="nav-item"><a href="https://github.com/hejialianghe/Senior-FrontEnd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://gitee.com/hejialianghe/Senior-FrontEnd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/computerNetwork/protocal.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----> <a href="/en-US/computerNetwork/protocal.html" class="nav-link">English</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/guide/" class="sidebar-link">介绍</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/jsadvanced/" class="sidebar-link">前言</a></li><li><a href="/jsadvanced/function.html" class="sidebar-link">函数</a></li><li><a href="/jsadvanced/asyncpro.html" class="sidebar-link">异步编程</a></li><li><a href="/jsadvanced/designpattern.html" class="sidebar-link">设计模式</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>计算机网络</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/computerNetwork/protocal.html" aria-current="page" class="active sidebar-link">网络协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#计算机网络简史" class="sidebar-link">计算机网络简史</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-arpanet-的发展" class="sidebar-link">1. ARPANET 的发展</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_2-逐渐成形的互联网" class="sidebar-link">2. 逐渐成形的互联网</a></li></ul></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-1-osi七层模型" class="sidebar-link">1.1 OSI七层模型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-1-1-osi七层模型" class="sidebar-link">1.1.1 OSI七层模型</a></li></ul></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-2-tcp-ip-协议和互联网协议群" class="sidebar-link">1.2 TCP/IP 协议和互联网协议群</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-2-1-tcp-ip协议群简介" class="sidebar-link">1.2.1 TCP/IP协议群简介</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-2-2-tcp-三次握手-three-way-handshake" class="sidebar-link">1.2.2 TCP 三次握手（Three-Way Handshake）</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-2-3-tcp-ip协议的消息顺序处理方法" class="sidebar-link">1.2.3 TCP/IP协议的消息顺序处理方法</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-2-4-tcp-四次挥手-four-way-handshake" class="sidebar-link">1.2.4 TCP 四次挥手（Four-Way Handshake）</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-2-5-详细说明" class="sidebar-link">1.2.5 详细说明</a></li></ul></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-3-dns与cdn" class="sidebar-link">1.3 DNS与CDN</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-3-1-dns的基础知识" class="sidebar-link">1.3.1 DNS的基础知识</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-3-2-cdn-实现原理" class="sidebar-link">1.3.2 CDN 实现原理</a></li></ul></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-4-http入门和基础工具链" class="sidebar-link">1.4 HTTP入门和基础工具链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-4-1-http协议" class="sidebar-link">1.4.1 HTTP协议</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-4-2-https" class="sidebar-link">1.4.2 HTTPS</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-4-3-node-js实战http请求" class="sidebar-link">1.4.3 Node.js实战http请求</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-4-3-基础工具链" class="sidebar-link">1.4.3 基础工具链</a></li></ul></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-5-http协议详情讲解" class="sidebar-link">1.5 HTTP协议详情讲解</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-5-1-http协议内容和方法" class="sidebar-link">1.5.1 HTTP协议内容和方法</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-5-2-常见http状态码" class="sidebar-link">1.5.2 常见HTTP状态码</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-5-3-常见http头" class="sidebar-link">1.5.3 常见HTTP头</a></li></ul></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-6-全栈角度看http协议" class="sidebar-link">1.6 全栈角度看HTTP协议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-6-1-解析body和2xx状态码" class="sidebar-link">1.6.1 解析Body和2xx状态码</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-6-2-跳转header和3xx状态码" class="sidebar-link">1.6.2 跳转Header和3xx状态码</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-6-3-实战-错误处理" class="sidebar-link">1.6.3 实战-错误处理</a></li></ul></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-7-加密和http证书" class="sidebar-link">1.7 加密和HTTP证书</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-7-1-对称加密和非对称加密" class="sidebar-link">1.7.1 对称加密和非对称加密</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-7-2-信任体系" class="sidebar-link">1.7.2 信任体系</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-7-3-算法种类介绍" class="sidebar-link">1.7.3 算法种类介绍</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-7-4-https工作原理" class="sidebar-link">1.7.4 HTTPS工作原理</a></li></ul></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-8-udp-vs-tcp-http-vs-https" class="sidebar-link">1.8 UDP vs TCP，HTTP vs HTTPS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-8-1-udp" class="sidebar-link">1.8.1 UDP</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-8-2-http2-0-目标" class="sidebar-link">1.8.2 HTTP2.0 目标</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#_1-8-3-http3-0" class="sidebar-link">1.8.3 HTTP3.0</a></li><li class="sidebar-sub-header"><a href="/computerNetwork/protocal.html#总结" class="sidebar-link">总结</a></li></ul></li></ul></li><li><a href="/computerNetwork/network-actual.html" class="sidebar-link">网络请求实战</a></li><li><a href="/computerNetwork/security.html" class="sidebar-link">网络安全与攻防</a></li><li><a href="/computerNetwork/browser-status.html" class="sidebar-link">浏览器状态同步和路由</a></li><li><a href="/computerNetwork/tools.html" class="sidebar-link">工具链和其他</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue/" class="sidebar-link">前言</a></li><li><a href="/vue/vueBase.html" class="sidebar-link">vue基础</a></li><li><a href="/vue/vueComponents.html" class="sidebar-link">探索vue的组件世界</a></li><li><a href="/vue/sourceCode.html" class="sidebar-link">部分源码解析</a></li><li><a href="/vue/serverSideRender.html" class="sidebar-link">服务端渲染</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/react/" class="sidebar-link">入门介绍</a></li><li><a href="/react/react-base.html" class="sidebar-link">步入react</a></li><li><a href="/react/react-positive.html" class="sidebar-link">react正篇</a></li><li><a href="/react/react-ecology.html" class="sidebar-link">react生态</a></li><li><a href="/react/react-principle.html" class="sidebar-link">react原理</a></li><li><a href="/react/react-state-mana.html" class="sidebar-link">react状态管理</a></li><li><a href="/react/react-actualCombat.html" class="sidebar-link">react高级实战</a></li><li><a href="/react/react-hooks.html" class="sidebar-link">react-hooks</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Node.js进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/node/" class="sidebar-link">Node.js基础</a></li><li><a href="/node/koa.html" class="sidebar-link">koa</a></li><li><a href="/node/egg.html" class="sidebar-link">企业级框架egg</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工程化</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/engineering/script.html" class="sidebar-link">脚本世界</a></li><li><a href="/engineering/coding-standards.html" class="sidebar-link">规范先行</a></li><li><a href="/engineering/quality-code.html" class="sidebar-link">质量代码</a></li><li><a href="/engineering/design.html" class="sidebar-link">工程设计</a></li><li><a href="/engineering/ctg-art.html" class="sidebar-link">构建艺术</a></li><li><a href="/engineering/auto-deploy.html" class="sidebar-link">持续集成与部署</a></li><li><a href="/engineering/git.html" class="sidebar-link">Git操作</a></li><li><a href="/engineering/tool.html" class="sidebar-link">效率工具</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>小程序</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/applets/performance.html" class="sidebar-link">小程序进阶</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>项目实战</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/projectPractice/isomorphism.html" class="sidebar-link">认识同构及原理</a></li><li><a href="/projectPractice/demo.html" class="sidebar-link">实现一个同构的demo</a></li><li><a href="/projectPractice/nextjs.html" class="sidebar-link">Nextjs</a></li></ul></section></li></ul> </aside> <main class="page" data-v-266a5a28> <div class="ads" data-v-a4c8d602><div class="item" data-v-a4c8d602><h6 class="title" style="display:;" data-v-a4c8d602>联系作者</h6> <div class="thumb" data-v-a4c8d602><a href="/weixin.jpeg" target="_blank" data-v-a4c8d602><img src="/weixin.jpeg" alt="联系作者" data-v-a4c8d602></a></div></div></div> <div class="theme-default-content content__default"><h2 id="计算机网络简史"><a href="#计算机网络简史" class="header-anchor">#</a> 计算机网络简史</h2> <p><font color="red">学计算机一定要注重人文知识，人文知识最终影响你的判断力，以及你对未来的认知，有这样一部分功底，你就比别人看的多。</font></p> <h3 id="_1-arpanet-的发展"><a href="#_1-arpanet-的发展" class="header-anchor">#</a> 1. ARPANET 的发展</h3> <p>ARPA那时候不叫计算机网路，有一个叫做数据网的方向，黄色部分连接的美国的地图。</p> <p><img src="/assets/img/arpanet.f6558c00.png" alt=""></p> <h4 id="_1965-packet-switching-分包交换"><a href="#_1965-packet-switching-分包交换" class="header-anchor">#</a> 1965-packet switching（分包交换）</h4> <p>The data packets take different routes to their destinations</p> <p><img src="/assets/img/packet-switching.064c696a.png" alt=""></p> <h4 id="_1969"><a href="#_1969" class="header-anchor">#</a> 1969</h4> <ul><li>第一个RFC（开始通过APPANET发布）
R：request F：from C：comment
就是写一篇文章，别人可以对你的文章进行评论</li> <li>第一个接口处理信息单元（interface Message Processor）</li> <li>互联网internet</li></ul> <h4 id="_1970s"><a href="#_1970s" class="header-anchor">#</a> 1970s</h4> <ul><li>1971- 第一个email（ARPANET）</li> <li>1971- ALOHAnet：第一个wifi（Wireless Fidelity）</li> <li>1973- Ethernet</li> <li>1973- SATNET</li> <li>1973- IP电话/互联网电话（VOIP），第一个给用户使用的电话在1995</li> <li>1974- 路由器（施乐 Xerox）</li> <li>1976- 第一个IP路由器，但是被称做网关（Gateway）</li> <li>1978- Bob Kahn发明了TCP/IP协议</li></ul> <h3 id="_2-逐渐成形的互联网"><a href="#_2-逐渐成形的互联网" class="header-anchor">#</a> 2. 逐渐成形的互联网</h3> <h4 id="_1980s"><a href="#_1980s" class="header-anchor">#</a> 1980s</h4> <ul><li>1981- internet protocal Version 4 ，RCF 791</li> <li>1981- BITNet</li> <li>1981- CSNet</li> <li>1983- ARPANET迁移到TCP/IP协议</li> <li>1983- DNS（Domain Name System）</li> <li>1986- BITNet II</li> <li>1988- WaveLan（Wi-Fi）</li> <li>1988- Packet filter wall （第一个防火墙Paper）</li> <li>1988- APAPNet 升级为T1主干网络</li></ul> <h4 id="_1990s"><a href="#_1990s" class="header-anchor">#</a> 1990s</h4> <ul><li>1990 - 第一个交换机（Kalpana）</li> <li>1996 - IPv6</li> <li>1997 - 802.11 wifi 标准（2mbps）</li> <li>1999 - 802.1a 标准（5GHz 25mbps）</li> <li>1999 - 802.11b 标准（11mbps）</li> <li>1999 - WEP加密协议（RC4+CRC-32）</li></ul> <h4 id="_2000s"><a href="#_2000s" class="header-anchor">#</a> 2000s</h4> <table><thead><tr><th style="text-align:center;">年份</th> <th style="text-align:center;">事件</th></tr></thead> <tbody><tr><td style="text-align:center;">2003</td> <td style="text-align:center;">801.11g（54mbps）</td></tr> <tr><td style="text-align:center;">2003</td> <td style="text-align:center;">WPA加密协议</td></tr> <tr><td style="text-align:center;">2003</td> <td style="text-align:center;">WPA2加密协议</td></tr> <tr><td style="text-align:center;">2008</td> <td style="text-align:center;">4G标准（100Mbps）</td></tr> <tr><td style="text-align:center;">2009</td> <td style="text-align:center;">802.11n标准（600Mbps）</td></tr></tbody></table> <h2 id="_1-1-osi七层模型"><a href="#_1-1-osi七层模型" class="header-anchor">#</a> 1.1 OSI七层模型</h2> <h3 id="_1-1-1-osi七层模型"><a href="#_1-1-1-osi七层模型" class="header-anchor">#</a> 1.1.1 OSI七层模型</h3> <ul><li>开放式系统互联网模型</li> <li>世界范围内的网络标准概念模型</li> <li>OSI的努力让互联网协议组件走向标准化</li></ul> <h4 id="应用层"><a href="#应用层" class="header-anchor">#</a> 应用层</h4> <p>提供高级API</p> <ul><li>定义了网络主机提供的方法和接口（业务协议、高级协议）</li> <li>往往直接对应用户行为</li> <li>例如：HTTP、FTP、SMTP等</li></ul> <h4 id="展示层"><a href="#展示层" class="header-anchor">#</a> 展示层</h4> <ul><li>也被称做语法层</li> <li>将Application layer中的数据转化为传输格式，保留语义（如：序列化、加密解密、字符串编码解码等）</li> <li>确保数据发送取出后可以被接受者理解</li></ul> <h4 id="会话层"><a href="#会话层" class="header-anchor">#</a> 会话层</h4> <ul><li>提供管理会话的方法（Open/Close/ReOpen/检查状态等）</li> <li>提供对底层连接的断断续续的隐藏；甚至对多种底层流的隐藏（提供数据同步点）</li></ul> <h4 id="传输层"><a href="#传输层" class="header-anchor">#</a> 传输层</h4> <p>提供主机到主机（host-to-host）的数据通信能力</p> <ul><li>建立连接保证数据封包发送、接受到的顺序一致</li> <li>提供可靠性（发送者知道数据有没有被完整送达）</li> <li>提供流控制（发送者和接受者同步速率）</li> <li>提供多路复用（多种信号复用一个信道）</li></ul> <h4 id="网络层"><a href="#网络层" class="header-anchor">#</a> 网络层</h4> <p>提供数据在逻辑单元（例如IP地址）之间的传递能力</p> <ul><li>路由：决定数据的下一站在哪里</li> <li>寻址：为数据封包增加头信息（地址等）</li></ul> <h4 id="数据链路层"><a href="#数据链路层" class="header-anchor">#</a> 数据链路层</h4> <p>提供数据在设备和设备之间的传输能力</p> <ul><li><p>流控制 ：发送者接受者之间同步数据是收发速度和数据量</p></li> <li><p>错误控制：检测数据有没有出错，并重发出错的数据</p></li></ul> <h4 id="物理层"><a href="#物理层" class="header-anchor">#</a> 物理层</h4> <p>定义底层一个位（bit）的数据如何让变成物理信号</p> <ul><li><p>将数据链路层发生的数据传递行为转化成为物理设备识别的信号</p></li> <li><p>封装了大量底层物理设备的能力</p></li></ul> <h2 id="_1-2-tcp-ip-协议和互联网协议群"><a href="#_1-2-tcp-ip-协议和互联网协议群" class="header-anchor">#</a> 1.2 TCP/IP 协议和互联网协议群</h2> <p>今天使用最多的协议群</p> <h3 id="_1-2-1-tcp-ip协议群简介"><a href="#_1-2-1-tcp-ip协议群简介" class="header-anchor">#</a> 1.2.1 TCP/IP协议群简介</h3> <h4 id="互联网协议群"><a href="#互联网协议群" class="header-anchor">#</a> 互联网协议群</h4> <ul><li>类似OSI模型，一种网络协议的概念模型</li></ul> <p>它对OSI七层模型做了简化，把OSI的应用层、展示层、会话层简化成了应用层</p> <p><img src="/assets/img/suite.61b81fd5.png" alt=""></p> <ol><li>应用层</li></ol> <ul><li>提供应用间通信能力（HTTP协议）</li></ul> <ol start="2"><li>传输层</li></ol> <ul><li>提供主机到主机的通信能力（TCP/UDP协议）</li></ul> <ol start="3"><li>网络层</li></ol> <ul><li>提供地址到地址的通信能力（form：12.3.41.1-&gt;to :9.1.2.12）</li></ul> <ol start="4"><li>链路层</li></ol> <ul><li>提供设备到设备的通信能力（设备1-&gt;设备2）</li></ul> <ol start="5"><li>物理层</li></ol> <ul><li>光电信号的传输</li></ul> <h3 id="_1-2-2-tcp-三次握手-three-way-handshake"><a href="#_1-2-2-tcp-三次握手-three-way-handshake" class="header-anchor">#</a> 1.2.2 TCP 三次握手（Three-Way Handshake）</h3> <p><img src="/assets/img/threehand.b6a6af6e.png" alt=""></p> <p>TCP三次握手用于在客户端和服务器之间建立可靠的连接。具体步骤如下：</p> <p>1.SYN（同步报文）：
客户端：向服务器发送一个TCP报文，SYN标志位设为1，并包含一个初始序列号（Sequence Number, seq）。此报文表示客户端请求建立连接。
报文示例：SYN(seq=x)。</p> <p>2.SYN-ACK（同步-确认报文）：
服务器：收到SYN报文后，回复一个SYN-ACK报文，SYN和ACK标志位均设为1。服务器的SYN报文包含其自己的初始序列号（seq=y），ACK报文的确认号（Acknowledgment Number, ack）设为客户端的序列号加1，即ack=x+1。
报文示例：SYN-ACK(seq=y, ack=x+1)。</p> <p>3.ACK（确认报文）：
客户端：收到服务器的SYN-ACK报文后，发送一个ACK报文，ACK标志位设为1，确认号设为服务器的序列号加1，即ack=y+1。至此，连接建立成功，可以开始数据传输。
报文示例：ACK(ack=y+1)</p> <h3 id="_1-2-3-tcp-ip协议的消息顺序处理方法"><a href="#_1-2-3-tcp-ip协议的消息顺序处理方法" class="header-anchor">#</a> 1.2.3 TCP/IP协议的消息顺序处理方法</h3> <ul><li>消息的绝对顺序用（SEQ，ACK）这一对元组描述
<ul><li>SEQ（Sequence）：这个消息发送前一共发送了多少字节</li> <li>ACK （Acknowledge）：这个消息发送前一共收到了多少字节</li></ul></li></ul> <h3 id="_1-2-4-tcp-四次挥手-four-way-handshake"><a href="#_1-2-4-tcp-四次挥手-four-way-handshake" class="header-anchor">#</a> 1.2.4 TCP 四次挥手（Four-Way Handshake）</h3> <p>TCP四次挥手用于断开客户端和服务器之间的连接。具体步骤如下：</p> <p>1.FIN（终止报文）：
客户端：发送一个FIN报文，FIN标志位设为1，表示客户端要终止连接。
报文示例：FIN(seq=u)。</p> <p>2.ACK（确认报文）：
服务器：收到FIN报文后，回复一个ACK报文，确认号设为客户端的序列号加1，即ack=u+1。
报文示例：ACK(ack=u+1)。</p> <p>3.FIN（终止报文）：
服务器：准备好终止连接后，发送一个FIN报文，FIN标志位设为1，并包含其自己的序列号（seq=v）。
报文示例：FIN(seq=v)。</p> <p>4.ACK（确认报文）：
客户端：收到服务器的FIN报文后，发送一个ACK报文，确认号设为服务器的序列号加1，即ack=v+1。至此，连接彻底断开。
报文示例：ACK(ack=v+1)。</p> <h3 id="_1-2-5-详细说明"><a href="#_1-2-5-详细说明" class="header-anchor">#</a> 1.2.5 详细说明</h3> <p>三次握手的目的：</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>确认连接双方都有接收和发送数据的能力。</p> <p>同步序列号，以便双方能够正确重组数据包。</p> <p>防止旧的重复连接请求干扰新的连接。</p></div> <p>四次挥手的步骤原因：</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>客户端发送FIN报文：表明客户端已无数据要发送，但仍能接收数据。</p> <p>服务器发送ACK报文：确认收到客户端的FIN报文。</p> <p>服务器发送FIN报文：在处理完所有数据后，通知客户端可以断开连接。</p> <p>客户端发送ACK报文：确认收到服务器的FIN报文后，连接正式关闭。</p> <p>这些步骤确保了在断开连接时，双方都能处理完所有的数据传输，不会有数据丢失或中断。</p></div> <h2 id="_1-3-dns与cdn"><a href="#_1-3-dns与cdn" class="header-anchor">#</a> 1.3 DNS与CDN</h2> <h3 id="_1-3-1-dns的基础知识"><a href="#_1-3-1-dns的基础知识" class="header-anchor">#</a> 1.3.1 DNS的基础知识</h3> <h4 id="统一资源定位符-url"><a href="#统一资源定位符-url" class="header-anchor">#</a> 统一资源定位符（URL）</h4> <ul><li>也被称作（网址），用于定位互联网上的资源</li></ul> <p><img src="/assets/img/url.d9876b29.png" alt=""></p> <h4 id="dns-query过程"><a href="#dns-query过程" class="header-anchor">#</a> DNS Query过程</h4> <p><img src="/assets/img/dns.24e955e4.png" alt=""></p> <h3 id="_1-3-2-cdn-实现原理"><a href="#_1-3-2-cdn-实现原理" class="header-anchor">#</a> 1.3.2 CDN 实现原理</h3> <p>cdn用于存变化不大的文件</p> <p><img src="/assets/img/cdn.81430886.png" alt=""></p> <h4 id="cdn云测工具"><a href="#cdn云测工具" class="header-anchor">#</a> CDN云测工具</h4> <p><a href="https://www.17ce.com/" target="_blank" rel="noopener noreferrer">17ce<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="_1-4-http入门和基础工具链"><a href="#_1-4-http入门和基础工具链" class="header-anchor">#</a> 1.4 HTTP入门和基础工具链</h2> <h4 id="蒂姆-伯纳斯-李"><a href="#蒂姆-伯纳斯-李" class="header-anchor">#</a> 蒂姆.伯纳斯-李</h4> <ul><li>英国著名科学家（1955-）
<ul><li>万维网（1990年HTTP协议）</li> <li>创办MIT人工智能实验室</li></ul></li></ul> <h3 id="_1-4-1-http协议"><a href="#_1-4-1-http协议" class="header-anchor">#</a> 1.4.1 HTTP协议</h3> <ul><li><p>超文本传输协议</p> <p>超是一个形容词，形容这个文本很厉害,这个协议是挂在tcp上实现的，开始设计就是客户端和服务端通信的，它提供了一种标准就是中间可以传文本，
因为传二进制太复杂了，传文本大家都看的懂，容易推广就容易普及。</p></li> <li><p>处理客户端和服务端之间的通信</p></li> <li><p>http请求/http返回</p></li> <li><p>网页/json/xml/提交表单</p></li></ul> <h4 id="纯文本-无状态-stateless"><a href="#纯文本-无状态-stateless" class="header-anchor">#</a> 纯文本+无状态（stateless）</h4> <ul><li>应用层协议（下面可以是TCP/IP）</li> <li>信息纯文本传输</li> <li>无状态
<ul><li>每次请求独立</li> <li>请求间不影响</li></ul></li> <li>浏览器提供了手段维护状态（Cookie，session,*Storage等）</li></ul> <h4 id="http历史"><a href="#http历史" class="header-anchor">#</a> HTTP历史</h4> <ul><li>1991 HTTP 0.9</li> <li>1996 HTTP 1.0</li> <li>1999 HTTP 1.1</li> <li>2015 HTTP 2.0</li></ul> <h4 id="设计的基础因素"><a href="#设计的基础因素" class="header-anchor">#</a> 设计的基础因素</h4> <ul><li>带宽
<ul><li>基础网络（线路、设备等）</li></ul></li> <li>延迟
<ul><li>浏览器</li> <li>DNS查询</li> <li>建立连接（TCP三次握手）</li></ul></li></ul> <h4 id="设计考虑因素-缓存与带宽优化"><a href="#设计考虑因素-缓存与带宽优化" class="header-anchor">#</a> 设计考虑因素-缓存与带宽优化</h4> <ul><li><p>缓存</p> <ul><li>（http1.0）提供缓存机制如IF-Modified-Since等基础缓存控制策略</li> <li>（http1.1）提供E-Tag等高级缓存策略</li></ul></li> <li><p>带宽优化</p> <ul><li>（http 1.1）利用range头获取文件的某个部分</li> <li>（http 1.1）利用长连接让多个请求在一个TCP连接上排队
如果每一个请求都建立一个TCP，这样是非常浪费带宽的，如果所有请求都复用一个tcp，那么这样省去了一些tcp握手的开销。</li> <li>（http 2.0）利用多路复用技术同时传输多个请求
进一步节省带宽</li></ul></li></ul> <h4 id="设计考虑因素-压缩-安全性"><a href="#设计考虑因素-压缩-安全性" class="header-anchor">#</a> 设计考虑因素-压缩/安全性</h4> <ul><li><p>压缩</p> <ul><li>主流web服务器如nginx/express等都提供gzip压缩功能</li> <li>（http2.0）采用二进制传输，头部使用HPACK算法压缩</li></ul></li> <li><p>HTTPS</p> <ul><li>在HTTP和TCP/IP之间增加TSL/SSL层</li> <li>数据传输加密（非对称+对称加密）</li></ul></li></ul> <h3 id="_1-4-2-https"><a href="#_1-4-2-https" class="header-anchor">#</a> 1.4.2 HTTPS</h3> <ul><li>安全超文本传输协议（Hyper Text  Transfer Protocol Secure）</li> <li>数据加密传输
<ul><li>防止各种攻击手段（信息泄露、篡改等）</li></ul></li> <li>SSL/TSL（Secure Socket Layer/Transport Layer Secure）
<ul><li>SSL-安全套接层</li> <li>TSL-传输层安全性协议</li> <li>需要在客户端安装证书</li></ul></li></ul> <img width="300px" src="/assets/img/https.2691172c.png"> <h3 id="_1-4-3-node-js实战http请求"><a href="#_1-4-3-node-js实战http请求" class="header-anchor">#</a> 1.4.3 Node.js实战http请求</h3> <h4 id="header和body-实战"><a href="#header和body-实战" class="header-anchor">#</a> 🍅 Header和Body（实战）</h4> <ul><li>http协议是一个文本传输协议，传输内容是人类可读的文本，大体分成2部分：
<ul><li>请求头（header）/返回头</li> <li>消息体Body</li></ul></li> <li>观察node实现http的基础协议</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> net <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'net'</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
HTTP/1.1 200 ok
Data: Tue,30 Jun 2020 01:00:00 GMT
Content-Type: text/plain
Connection: Closed
// 上面是描述，下面设计文本内容
Hello word
</span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">const</span> server<span class="token operator">=</span> net<span class="token punctuation">.</span><span class="token function">createServer</span><span class="token punctuation">(</span><span class="token parameter">socket</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    socket<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

server<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'err'</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>我们请求一下<code>http://localhost/</code></p> <p><img src="/assets/img/netttohttp.35b1e80d.png" alt=""></p> <p>从上图可以看出respoons header是我们添加进去的，request header是浏览器帮我们添加进去的</p> <h3 id="_1-4-3-基础工具链"><a href="#_1-4-3-基础工具链" class="header-anchor">#</a> 1.4.3 基础工具链</h3> <ol><li>Chrome</li></ol> <ul><li>Google 开发的免费浏览器</li> <li>Chrome 开发者拥有强大的调试能力</li></ul> <ol start="2"><li>cURL</li></ol> <ul><li>传输一个URL（和服务端交互的工具）
<ul><li>url：网址（Uniform Resource Locator）</li></ul></li> <li>支持多种协议（HTTP/HTTPS/FTP/FTPS/SCP/SFTP/DICT/TELNET）</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> www.baidu.com <span class="token comment"># 返回百度首页的内容，跟浏览器是一样的，会少一些响应头</span>
<span class="token function">curl</span> -I www.baidu.com <span class="token comment"># 返回协议头部</span>

HTTP/1.1 <span class="token number">200</span> OK
Accept-Ranges: bytes
Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform
Connection: keep-alive
Content-Length: <span class="token number">277</span>
Content-Type: text/html
Date: Sun, <span class="token number">14</span> Feb <span class="token number">2021</span> 09:12:18 GMT
Etag: <span class="token string">&quot;575e1f59-115&quot;</span>
Last-Modified: Mon, <span class="token number">13</span> Jun <span class="token number">2016</span> 02:50:01 GMT
Pragma: no-cache
Server: bfe/1.0.8.18
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ol start="2"><li>fetch</li></ol> <ul><li>在网络上获取数据的标准接口
<ul><li>提供对请求/返回对象（标准的Promise接口）</li> <li>提供自定义header能力</li> <li>提供跨域能力</li></ul></li></ul> <p>浏览器上可以直接请求 fetch(&quot;/&quot;)</p> <ol start="4"><li>postMan</li></ol> <ul><li>协作的API开发工具</li></ul> <p>经常用的场景是服务端工程师把一些复杂的请求参数配置好，通过postman可以分享出来给前端工程师</p> <ol start="5"><li>whistle</li></ol> <p>whistle是一个抓包的工具，也叫网络调试工具，它能看到这些分包，可以在http协议上修改一些参数。</p> <ul><li>跨平台网络调试工具
<ul><li>需要SwitchOmega插件</li> <li>node.js 开发</li> <li>支持抓包 、重放、替换、修改等</li></ul></li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>    <span class="token function">npm</span> i whistle -g <span class="token comment"># 下载，mac电脑：sudo npm i whistle -g </span>
    whistle start <span class="token comment"># 启动</span>
    http://localhost:8899/ <span class="token comment"># 浏览器查看</span>
    SwitchOmega <span class="token comment"># 谷歌代理插件，可以配置127.0.0.1:8899的服务上</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="谷歌代理插件switchomega-配置代理服务器127-0-0-1-8899的服务"><a href="#谷歌代理插件switchomega-配置代理服务器127-0-0-1-8899的服务" class="header-anchor">#</a> 🍅 谷歌代理插件SwitchOmega，配置代理服务器127.0.0.1:8899的服务</h4> <p><img src="/assets/img/switchOmega.36359ce8.png" alt=""></p> <h4 id="示例-以代理百度为例"><a href="#示例-以代理百度为例" class="header-anchor">#</a> 🍅 示例：以代理百度为例</h4> <p>在想要代理的网址上选择<code>proxy</code></p> <p><img src="/assets/img/baidu.8a0d467d.png" alt=""></p> <p>查看代理信息</p> <p><img src="/assets/img/whistleweb.dc8b1652.png" alt=""></p> <h4 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h4> <p>简单比效率更重要（java/HTTP）等</p> <h2 id="_1-5-http协议详情讲解"><a href="#_1-5-http协议详情讲解" class="header-anchor">#</a> 1.5 HTTP协议详情讲解</h2> <h3 id="_1-5-1-http协议内容和方法"><a href="#_1-5-1-http协议内容和方法" class="header-anchor">#</a> 1.5.1 HTTP协议内容和方法</h3> <h4 id="http常见的请求头"><a href="#http常见的请求头" class="header-anchor">#</a> 🍅 HTTP常见的请求头</h4> <p><img src="/assets/img/httpres.c28b0dda.png" alt=""></p> <h4 id="http常见的返回头"><a href="#http常见的返回头" class="header-anchor">#</a> 🍅 HTTP常见的返回头</h4> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>HTTP/1.1 <span class="token number">201</span> Created <span class="token comment"># 协议版本、状态码</span>
x-Powered-By: Express <span class="token comment"># X-Powered-By</span>
Date:Sun,19 Jul <span class="token number">2020</span> <span class="token number">14</span>:01:51 GMT <span class="token comment"># 日期</span>
Connection: keep-alive  <span class="token comment"># Connection</span>
Content-length: <span class="token number">0</span> <span class="token comment"># content-length</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="基本方法"><a href="#基本方法" class="header-anchor">#</a> 🍅 基本方法</h4> <ul><li>GET
<ul><li>从服务器获取资源</li></ul></li> <li>HEAD
<ul><li>HEAD和GET类似，只是服务器的响应中只返回头部（没有实体部分）；在不获取资源情况下了解资源的状况</li></ul></li> <li>POST
<ul><li>在服务器创建资源</li></ul></li> <li>PUT
<ul><li>在服务器修改资源（幂等性），同一个url多次请求只修改一次</li></ul></li> <li>DELETE
<ul><li>在服务器删除资源（幂等性），同一个url多次请求只删除一次</li></ul></li> <li>OPTIONS
<ul><li>跨域时复杂请求
<ul><li>使用了 put/delete/connnect/trace/patch</li> <li>人为设置了一些header字段</li> <li>content-type的值不属于：application/x-www-form-urlencoded、multipart/form-data、text/plain</li></ul></li></ul></li> <li>TRACE 用于显示调试信息
<ul><li>多数网站不支持，会泄露一些调试信息或者只有内部的时候才支持，它能帮助你追述整个http的链路，假如http发出去，它可能接收第一个不是网关；
它可能是代理服务器，再通过负载均衡才到达你真实的服务器，这里面有一定的路径，trace可以帮助我们请求http协议的网址时协议调试信息</li></ul></li> <li>CONNECT
<ul><li>代理</li></ul></li> <li>PATCH
<ul><li>对资源进行部分更新（极少用）</li></ul></li></ul> <h3 id="_1-5-2-常见http状态码"><a href="#_1-5-2-常见http状态码" class="header-anchor">#</a> 1.5.2 常见HTTP状态码</h3> <h4 id="状态码"><a href="#状态码" class="header-anchor">#</a> 🍅 状态码</h4> <ul><li><p><font color="green">1.xx ：提供信息</font></p> <ul><li>100 continue 主要用来提供信息的，这个100还有一点历史原因，现在带宽都比较大；有时候传输数据比较大
客户端询问一下服务端，服务端如果发送100continue，客户端继续向服务端传送，现在已经用的很少了。</li> <li>101  切换协议（switch Protocol）
我们浏览器生态不光有http协议、websocket协议、还有一些视频流的一些协议；这些协议和http之间是怎么切换的，客户端请求服务端的时候，如果服务端需要切换协议，会返回101，告诉客户端切换协议</li></ul> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>HTTP/1.1 <span class="token number">101</span> Switching Protocols  
Upgrade:websocket
Connection: Upgrade
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p><font color="green">2XX：成功</font></p> <ul><li>200-ok</li> <li>201- Created 已创建</li> <li>202- Accepted 已接收</li> <li>203- Non-Authoritative information 非权威内容</li> <li>204- No Content 那样内容</li> <li>205- Reset Content 重置内容</li> <li>206- Partial Content 服务器下发了部分内容（range header）
注：多数服务端开发已经不遵循状态码</li></ul></li> <li><p><font color="green">3XX：重定向</font></p> <ul><li>300- Multiple Choices 用户请求了多个选项的资源（返回选项列表）</li> <li>301- Moved Permanently 永久转移 （如果以前是post、delete等方法，如果在303的情况都会变成get）</li> <li>302- Found 资源被找到（以前是临时转移，现在被拆成了2个状态码303和307）</li> <li>303- See Other 可以使用GET方法在另一个URL找到资源（不管以前使用什么方法跳转过来的，最终303都给跳转一个get方法）</li> <li>304- Not Modified 没有修改（这个资源没有再请求一遍，现在很多web服务器，它在下发资源给浏览器的时候，它会把资源内容做一次计算，计算出一个唯一的哈希值，哈希值会作为target传下来，浏览器会对比这个target，target变化会再去请求一次，web服务器知道哪些资源有变化，它有些算法在里面，计算出有没有变化，没有变化会返回一个304，并不会返回真实的资源。）</li> <li>305- Use Proxy需要代理</li> <li>307- Temporary Redirect 临时重定向</li> <li>308- Permanent Redirect 永久重定向 （如果是post请求，收到308后还是308请求）</li></ul></li></ul> <p><font color="red">收到服务端状态码，我们该怎么做？</font></p> <p>这不是程序所决定的，它不是这个逻辑，因为整体设计是一个协议一个标准；在请求的时候我们能拿到状态码，即使返回了301我们都可以不用去跳转，反正你就不遵守协议，这无所谓，但是设计浏览器的人，他们都遵循这些协议，这些协议是一个标准，正常来说也要遵循这些协议；即使权利交到你手里 ，如果总是违反协议做事情，大家都乱了，大家要重新商议协议，沟通成本会增加。</p> <p>🍅 面试解惑：301 vs 308</p> <ul><li>共同点
<ul><li>资源被永久移动到新的地址</li></ul></li> <li>差异
<ul><li>客户端收到308请求后，之前是什么method，那么之后也会沿用这个method(POST/GET/PUT)到新地 址</li> <li>客户端收到301请求后，通常用户会向新地址发起GET请求</li></ul></li></ul> <p>历史原因：最早的浏览器设计不是像今天这样用ajax请求去动态创建网页，过去网页是网页设计师写出来的，那时候主要的请求都是GET，最早定义规范的人，他也强调过301怎么去做，定义协议的人其实考虑到这个问题了，但是大家都没有遵守这个协议，一开始本来你给我POST，我给你POST ，只是网址变化一下，但都大家不理它，导致http1.1之后还有增加308这些头。</p> <p>🍅 面试解惑：302/303/307</p> <ul><li><p>共同点</p> <ul><li>资源临时放到新地址（请不要缓存）</li></ul></li> <li><p>差异</p> <ul><li>302是http1.0提出的，最早叫做Moved Temporarily；很多浏览器实现的时候没有遵循标准，把所有请求都重定向到GET</li> <li>1999年标准委员会增加了303和307，并将302重新定义为Found</li> <li>303告诉客户端使用GET方法重定向资源</li> <li>307告诉客户端使用原请求method重定向资源</li></ul></li> <li><p><font color="green">4XX：客户端错误</font></p> <ul><li>400- Bad Request 请求格式错误</li> <li>401- Unauthorized 没有授权</li> <li>402- Payment Required 请先付费</li> <li>403- Forbidden 禁止访问</li> <li>404- Not Found 没有找到</li> <li>405- Mehtod Not Allowed 方法不被允许</li> <li>406- Not Acceptable 服务端可以提供的内容和客户端期待不一样</li></ul> <p>注：多数服务端开发已经不遵循状态码</p></li> <li><p><font color="green">5XX：服务端错误</font></p> <ul><li>500 - internal Server Error（内部服务器错误）</li> <li>501 - Not implemented（没有实现）</li> <li>502 - Bad Gateway（网管错误）</li> <li>503 - Servive Unavailable（服务不可用）</li> <li>504 - Gateway Timeout （网关超时）</li> <li>505 - HTTP Version Not Supported（版本不支持）</li></ul> <p>注：多数服务端开发已经不遵循状态码</p></li></ul> <h3 id="_1-5-3-常见http头"><a href="#_1-5-3-常见http头" class="header-anchor">#</a> 1.5.3 常见HTTP头</h3> <h4 id="content-length"><a href="#content-length" class="header-anchor">#</a> 🍅 Content-Length</h4> <ul><li>发送给接收者的Body内容长度（字节）
<ul><li>一个byte是8bit</li> <li>Utf-8编码的自渎1-4字节</li></ul></li></ul> <h4 id="user-agent"><a href="#user-agent" class="header-anchor">#</a> 🍅 User-Agent</h4> <ul><li>帮助区分客户端特性的字符串
<ul><li>操作系统</li> <li>浏览器</li> <li>制造商（手机类型等）</li> <li>内核类型</li> <li>版本号......</li></ul></li></ul> <h4 id="content-type"><a href="#content-type" class="header-anchor">#</a> 🍅 Content-Type</h4> <ul><li>帮助区分资源的媒体类型（Media Type/MIME Type）
<ul><li>text/html</li> <li>text/css</li> <li>application/json</li> <li>image/jpeg</li> <li>......</li></ul></li></ul> <h4 id="origin"><a href="#origin" class="header-anchor">#</a> 🍅 Origin</h4> <ul><li>描述请求来源地址
<ul><li>scheme://host:port</li> <li>不含路径</li> <li>可以是null</li></ul></li></ul> <h4 id="accept"><a href="#accept" class="header-anchor">#</a> 🍅 Accept</h4> <ul><li>建议服务端返回何种媒体类型（MIME Type）
<ul><li>*/*代表所有类型（默认）</li> <li>多个类型用逗号隔开例如：text/html，application/json</li></ul></li> <li>Accept-Encoding：建议服务端发送哪种编码（压缩算法）
<ul><li>deflate,gzip;q=1.0,*;q=0.5</li></ul></li> <li>Accept-Language：建议服务端传递哪种语言
<ul><li>Accept-Language：fr-CH,fr;q=0.9,en;q=0.8,de;q=0.7,*;q=0.5</li></ul></li></ul> <h4 id="referer"><a href="#referer" class="header-anchor">#</a> 🍅 Referer</h4> <ul><li>告诉服务端打开当前页面的上一张页面的URL；如果是ajax请求，那么就告诉服务端发送请求的URL的是什么
<ul><li>非浏览器环境有时候不发送Referer（或者虚拟Referer，通常是爬虫）</li> <li>常常用于用户行为分析</li></ul></li></ul> <h4 id="connection"><a href="#connection" class="header-anchor">#</a> 🍅 Connection</h4> <ul><li>决定连接是否在当前事务完成后关闭
<ul><li>Http1.0 默认是close</li> <li>Http1.1后默认是keep-alive</li></ul></li></ul> <h2 id="_1-6-全栈角度看http协议"><a href="#_1-6-全栈角度看http协议" class="header-anchor">#</a> 1.6 全栈角度看HTTP协议</h2> <h3 id="_1-6-1-解析body和2xx状态码"><a href="#_1-6-1-解析body和2xx状态码" class="header-anchor">#</a> 1.6.1 解析Body和2xx状态码</h3> <h4 id="实战-method和解析body"><a href="#实战-method和解析body" class="header-anchor">#</a> 🍅 实战-method和解析body</h4> <ol><li>查询 GET /product</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/product'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'ok'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'启动成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>新增 POST /product</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/product'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> contentType <span class="token operator">=</span>  req<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'content-type'</span><span class="token punctuation">]</span>
    <span class="token keyword">let</span> requestText<span class="token operator">=</span><span class="token string">&quot;&quot;</span>
    <span class="token comment">// http请求基于tcp，tcp会把传的数据，分成一个个分包；并不是一次传过来的；req不仅是一个请求对象，也继承了流的性质</span>
    <span class="token comment">// 流代表了未来的数据，当数据来的时候把数据给装起来</span>
    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">buffer</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token comment">// utf-8 用1到4个字节描述一个字符，世界上有太多字符了，像a、b、c这样的一个字节就描述完了</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'buffer'</span><span class="token punctuation">,</span>buffer<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
        requestText <span class="token operator">+=</span> buffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    req<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'contentType'</span><span class="token punctuation">,</span>contentType<span class="token punctuation">)</span>
        <span class="token keyword">switch</span><span class="token punctuation">(</span>contentType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token string">&quot;application/json&quot;</span> <span class="token operator">:</span>
            <span class="token comment">// console.log('requestText',JSON.parse(requestText))</span>
            res<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'content-type'</span><span class="token punctuation">,</span><span class="token string">'application/json'</span><span class="token punctuation">)</span>
            res<span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>success<span class="token operator">:</span><span class="token string">'ok'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">break</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'启动成功'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>在浏览器上请求一下<code>fetch(&quot;/product&quot;,{method:&quot;POST&quot;,headers:{'content-type':'application/json'},body:JSON.stringify({name:''.padStart(100000,'A')})}).then(res=&gt;{console.log(res)})</code> <img src="/assets/img/post-product.af15a836.png" alt=""></p> <p>在控制台中可以看出，打印buffer.length出现了2次，因为传值不是一下传过来的，因为tcp是分包传输。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>➜  <span class="token number">1.6</span> git:<span class="token punctuation">(</span>master<span class="token punctuation">)</span> ✗ nodemon ./index.js
<span class="token punctuation">[</span>nodemon<span class="token punctuation">]</span> <span class="token number">2.0</span>.4
<span class="token punctuation">[</span>nodemon<span class="token punctuation">]</span> to restart at any time, enter <span class="token variable"><span class="token variable">`</span>rs<span class="token variable">`</span></span>
<span class="token punctuation">[</span>nodemon<span class="token punctuation">]</span> watching path<span class="token punctuation">(</span>s<span class="token punctuation">)</span>: *.*
<span class="token punctuation">[</span>nodemon<span class="token punctuation">]</span> watching extensions: js,mjs,json
<span class="token punctuation">[</span>nodemon<span class="token punctuation">]</span> starting <span class="token variable"><span class="token variable">`</span>node ./index.js<span class="token variable">`</span></span>
启动成功
buffer <span class="token number">64773</span>
buffer <span class="token number">35238</span>
contentType application/json
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="3"><li>修改 PUT /product/:id</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/product/:id'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">204</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="4"><li>删除 DELETE /product/:id</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>app<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/product/:id'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">204</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_1-6-2-跳转header和3xx状态码"><a href="#_1-6-2-跳转header和3xx状态码" class="header-anchor">#</a> 1.6.2 跳转Header和3xx状态码</h3> <h4 id="实战-重定向观察"><a href="#实战-重定向观察" class="header-anchor">#</a> 🍅 实战-重定向观察</h4> <ul><li>观察下列重定向行为的区别
<ul><li>301、302、303、307</li></ul></li></ul> <ol><li>301</li></ol> <p>当访问<code>http://localhost:3000/301</code>时候，浏览器会跳转到<code>http://localhost:3000/def</code>；跳转是浏览器的行为。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 遵守规范有利于网站的seo，不能随便用301，浏览器会有缓存</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/301'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">301</span><span class="token punctuation">,</span><span class="token string">'/def'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/def'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'THIS IS DEF(get)'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="2"><li>302、303、307</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 302、303 post请求会重定向到get请求</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/302'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">303</span><span class="token punctuation">,</span><span class="token string">'/def'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/303'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">303</span><span class="token punctuation">,</span><span class="token string">'/def'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/def'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'THIS IS DEF(get)'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 307 post请求，会重定向到post请求</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/307'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token number">307</span><span class="token punctuation">,</span><span class="token string">'/def'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/def'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
   res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">'THIS IS DEF(307post)'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="_1-6-3-实战-错误处理"><a href="#_1-6-3-实战-错误处理" class="header-anchor">#</a> 1.6.3 实战-错误处理</h3> <ul><li>为下列场景返回不同的错误码
<ul><li>用户没有登录</li> <li>服务器报错</li> <li>内容没有找到</li> <li>不支持POST请求</li></ul></li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 用户没有登录</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/test'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 500服务端抛错，会自定帮你做</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/test'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token string">&quot;Error&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 502网管错误，一般不自己指定</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/test'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">502</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 找不到资源，一般找不到资源框架会帮去返回404</span>
app<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/test'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">sendStatus</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="_1-7-加密和http证书"><a href="#_1-7-加密和http证书" class="header-anchor">#</a> 1.7 加密和HTTP证书</h2> <h3 id="_1-7-1-对称加密和非对称加密"><a href="#_1-7-1-对称加密和非对称加密" class="header-anchor">#</a> 1.7.1 对称加密和非对称加密</h3> <h4 id="明文传输"><a href="#明文传输" class="header-anchor">#</a> 🍅 明文传输</h4> <p>如果2个人对话，本来就是私密的，当然不想让三个人看见；如果小区有交换机，小区的工人人员就可以看报文，可能就会动起了坏心思。</p> <p><img src="/assets/img/proclaimedinwriting.b89fd551.png" alt=""></p> <h4 id="加密"><a href="#加密" class="header-anchor">#</a> 🍅 加密</h4> <p>给Alice传的发出内容进行加密，Bob这边在进行解密；加密解密也没回绝对安全；这样给破解人增加了难度。</p> <p><img src="/assets/img/encryption.a6b17e4b.png" alt=""></p> <h4 id="什么是加密"><a href="#什么是加密" class="header-anchor">#</a> 🍅 什么是加密</h4> <p>将明文信息变成不可读的密文内容，只有拥有解密方法的对象才能够将密闻还原成加密前的内容</p> <p>下面的例子就是隔3个拿一个字符，从而达到给明文加密</p> <p><img src="/assets/img/encryption1.10c4501c.png" alt=""></p> <h4 id="加密方法-解密方法"><a href="#加密方法-解密方法" class="header-anchor">#</a> 🍅 加密方法/解密方法</h4> <ul><li>计算机中，加密方法和解密方法，可以描述为一段程序，我们称作加密/解密算法</li> <li>加密有时候会对暗号，比如上一个例子中每次跳过3个字符，[3]就是一个暗号，我们称作密钥</li></ul> <h4 id="对称加密-非对称加密"><a href="#对称加密-非对称加密" class="header-anchor">#</a> 🍅 对称加密/非对称加密</h4> <ul><li>加密和解密的暗号（秘钥）相同，我们称为对称加密</li> <li>加密和解密的暗号（秘匙）不同，我们称为非对称加密</li></ul> <h4 id="非对称加密-秘钥对"><a href="#非对称加密-秘钥对" class="header-anchor">#</a> 🍅 非对称加密（秘钥对）</h4> <ul><li>创建者创建一个秘钥对（分成公钥和私钥）</li> <li>公钥加密必须私钥解密</li> <li>私钥加密必须公钥解密</li> <li>创建者保留私钥，公钥向外界公开</li></ul> <img width="500px" src="/assets/img/asymmetric.cb28f583.png"> <h3 id="_1-7-2-信任体系"><a href="#_1-7-2-信任体系" class="header-anchor">#</a> 1.7.2 信任体系</h3> <h4 id="证书体系"><a href="#证书体系" class="header-anchor">#</a> 🍅 证书体系</h4> <p><img src="/assets/img/certificatesystem.ac14e9a1.png" alt=""></p> <h4 id="算法如何验证证书就是alibaba"><a href="#算法如何验证证书就是alibaba" class="header-anchor">#</a> 🍅 算法如何验证证书就是Alibaba</h4> <p>Alibaba向第三方证书机构申请证书，第三方机构用根证书的私钥给Ailibaba证书签名；然后可以用根证书的公钥进行验证签名是不是alibaba的证书。</p> <p><img src="/assets/img/vser-certificate.7c999699.png" alt=""></p> <h3 id="_1-7-3-算法种类介绍"><a href="#_1-7-3-算法种类介绍" class="header-anchor">#</a> 1.7.3 算法种类介绍</h3> <ul><li>DES （Data Encryption Standard）
<ul><li>1970 IMB提出的对称加密算法</li> <li>可暴力破解</li></ul></li> <li>AES （Advanced Encryption Standard）
<ul><li>2001年美国国家标准于技术研究院发布的对称加密算法</li> <li>可旁道攻击</li></ul></li> <li>RSA（Rivest-Shamir-Adleman）
<ul><li>1997年发布的非对称加密算法</li></ul></li></ul> <h4 id="对称-vs-非对称"><a href="#对称-vs-非对称" class="header-anchor">#</a> 🍅 对称 VS 非对称</h4> <ul><li>非对称加密安全性更好</li> <li>对称加密计算速度更快</li> <li>通常混合使用（利用非对称加密协商密钥，然后进行对称加密，https也是混合使用，不是一种加密用到底的）</li></ul> <h3 id="_1-7-4-https工作原理"><a href="#_1-7-4-https工作原理" class="header-anchor">#</a> 1.7.4 HTTPS工作原理</h3> <p><img src="/assets/img/https-work.743908e8.png" alt=""></p> <p>假如有30ms网络延迟，假如用https发送一条数据，服务端收到到确认成功，最少使用多少时间？</p> <p>需要190ms，服务端收到后还会发送还会发送一个ack</p> <h2 id="_1-8-udp-vs-tcp-http-vs-https"><a href="#_1-8-udp-vs-tcp-http-vs-https" class="header-anchor">#</a> 1.8 UDP vs TCP，HTTP vs HTTPS</h2> <h3 id="_1-8-1-udp"><a href="#_1-8-1-udp" class="header-anchor">#</a> 1.8.1 UDP</h3> <ul><li><p>比TCP节省网络资源和迅速</p> <ul><li>不需要建立连接（延迟更低）</li> <li>封包体积更小 （传输入速度快）</li> <li>不关心数据顺序（不需要序号和ACK，传输快速）</li> <li>不保证数据不丢失</li></ul></li></ul> <h4 id="思考"><a href="#思考" class="header-anchor">#</a> 思考</h4> <p>没有虚拟连接、不校验数据、不保证顺序、没有收到不重复---是不是意味着不安全、不可靠？</p> <ul><li><p>UDP自由度跟高</p> <ul><li>需要用户程序在应用层定义类似的机制</li> <li>TCP面向流（API接收流）、UDP面向消息（API接收数据包）</li></ul></li> <li><p>场景不同</p> <ul><li>模糊：文件&amp;文本、多媒体</li> <li>TCP：远程控制</li> <li>UDP：DNS查询</li></ul></li></ul> <h3 id="_1-8-2-http2-0-目标"><a href="#_1-8-2-http2-0-目标" class="header-anchor">#</a> 1.8.2 HTTP2.0 目标</h3> <ul><li>多个请求多路复用</li> <li>防止对头阻塞</li> <li>压缩HTTP头部</li> <li>服务端推送</li></ul> <h4 id="http-1-1-排队问题"><a href="#http-1-1-排队问题" class="header-anchor">#</a> 🍅 HTTP 1.1 排队问题</h4> <p>HTTP 1.1多个文件共用一个TCP，这样可以减少tcp握手，这样3个文件就不用握手9次了，不过这样请求文件需要排队，请求和返回都需要排队，
如果第一个文件响应慢，会阻塞后面的文件，这样就产生了对头的等待问题。</p> <p>有的网站可能会有很多文件，浏览器处于对机器性能的考虑，它不可能让你无限制的发请求建连接，因为建立连接需要占用资源，浏览器不想把用户的网络资源都占用了，所以浏览器最多会建立6个tcp连接；如果有上百个文件可能都需要排队，http2.0正在解决这个问题。</p> <p><img src="/assets/img/http1.1.50bd0ae8.png" alt=""></p> <h4 id="http-2-0"><a href="#http-2-0" class="header-anchor">#</a> 🍅 HTTP 2.0</h4> <ol><li>多路复用</li></ol> <p>http1.1是一个请求过去，一个请求返回来，然后在进行下一个请求；其实是在排队的。http2.0发现2个请求比较靠近，把2个请求打包成一个请求发过去；也就是说把几个请求打包成一个小块去请求，并行发送；即使一个阻塞了，另一个还能回来，可以并行的出去也可以并行的回来；假如第一个请求需要0.8秒，第二个第三个各需要0.5秒；那么http2.0可以在0.8秒内把这3个一起去请求，这样只需0.8秒，即使一个阻塞了也不影响其他的返回。</p> <p><img src="/assets/img/http2.0.1a33ad54.png" alt=""></p> <ol start="2"><li>防止对头阻塞</li></ol> <p>http1.1如果第一个文件阻塞，第二个文件也就阻塞了。</p> <p><img src="/assets/img/http1status.9140890c.png" alt=""></p> <p>http2.0的解决，把3个请求打包成一个小块发送过去，即使第一个阻塞了，后面2个也可以回来；相当于3个文件同时请求，就看谁先回来谁后回来，阻塞的可能就后回来，对带宽的利用是最高的；但没有解决TCP的对头阻塞，如果TCP发过去的一个分包发丢了，他会重新发一次；http2.0的解决了大文件的阻塞。</p> <p><img src="/assets/img/http2.0scheme.73524ea3.png" alt=""></p> <p>一个分包请求3个文件，即使第一个阻塞了，第二个也能返回</p> <ol start="3"><li>压缩头部</li></ol> <ul><li>HPACK技术</li></ul> <p>例如：METHOD GET 用2表示,就是我用2去表示METHOD GET，这样不就小了，这样压缩比率非常大，可以参考下面表代表Header压缩后的字符。</p> <p><img src="/assets/img/hpack.b40ee839.png" alt=""></p> <ol start="3"><li>服务端推送</li></ol> <p>我们现在的网站是先请求一个html，然后加载这个html，如果这个html有js文件和css文件，在去请求js和css；有没有可能html、js、css一起推送过来，这样是不是快很多。</p> <p>当也有一个问题，现在页面主要是js渲染，那么js的先后顺序影响了页面的渲染；那么服务端推送也就存在问题了。</p> <h3 id="_1-8-3-http3-0"><a href="#_1-8-3-http3-0" class="header-anchor">#</a> 1.8.3 HTTP3.0</h3> <img width="500px" src="/assets/img/http3.0.98fe14d2.png"> <p>http3.0现在还属于一个实验阶段，上面是一个体系图，理解了TCP和UDP的关系，就会理解为什么有个3.0。</p> <p>从网络层（ip）-&gt;链接层-&gt;物理层这里是基本不变的，传输层是TCP或UDP，在这个TCP之上构建了HTTP1.1/HTTTP2.0的体系，0.9、1.0大家已经不用了，现在基本都是2.0。</p> <p>3.0直接把TCP换成UDP了，换成UDP后就出问题了，可靠性和安全性上出了问题，那么就自己做一层，这个叫<code>QUIC</code>，就是快的意思；谷歌的作品，这个谷歌说给http提高了很大的一部分空间，因为TCP到UDP本来就有很大的性能差距。</p> <p>http1.1/http2.0中间还有一个加密层，还要对数据的压缩，<code>QUIC</code>自己层承担了这部分工作，优化做的非常足，所以速度很快；3.0不再改协议了，也没有这么多的概念，它是整个层重写了，是基于UDP的，因为要保证可靠性，它是基于文件传输做的重写；文本传输做的重写，这就是3.0。</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <ul><li>UDP把自由度给了用户，使用的人少，TCP自由度低，用的人多。</li> <li>HTTP2.0/HTTP3.0都兼容HTTP1.1</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">5/13/2025, 7:45:34 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/jsadvanced/designpattern.html" class="prev">设计模式</a></span> <span class="next"><a href="/computerNetwork/network-actual.html">网络请求实战</a>
      →
    </span></p></div> </main> <footer class="footer" data-v-266a5a28><div class="container" data-v-266a5a28><p class="text-center" data-v-266a5a28>© 2024 web全栈体系. All Rights Reserved.（所有文章未经授权禁止转载、摘编、复制或建立镜像，如有违反，追究法律责任。）</p> <p class="text-center" data-v-266a5a28><a href="https://beian.miit.gov.cn" target="_blank" data-v-266a5a28>豫ICP备19041317号-1</a></p></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0f616eb6.js" defer></script><script src="/assets/js/3.9750fba5.js" defer></script><script src="/assets/js/2.6aa46093.js" defer></script><script src="/assets/js/4.aa28cc69.js" defer></script>
  </body>
</html>
