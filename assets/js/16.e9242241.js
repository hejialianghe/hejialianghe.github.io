(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{167:function(t,e,a){t.exports=a.p+"assets/img/cache.264b3c83.png"},168:function(t,e,a){t.exports=a.p+"assets/img/FIFO.ad7466f6.png"},169:function(t,e,a){t.exports=a.p+"assets/img/Frequently.46c13a98.png"},170:function(t,e,a){t.exports=a.p+"assets/img/recently.41fd5119.png"},171:function(t,e,a){t.exports=a.p+"assets/img/max-age.44f6cec8.png"},339:function(t,e,a){"use strict";a.r(e);var s=a(0),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_2-5-ç¼“å­˜ã€æ¸…ç†ç¼“å­˜å’Œhttpç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-ç¼“å­˜ã€æ¸…ç†ç¼“å­˜å’Œhttpç¼“å­˜"}},[t._v("#")]),t._v(" 2.5 ç¼“å­˜ã€æ¸…ç†ç¼“å­˜å’ŒHTTPç¼“å­˜")]),t._v(" "),s("h3",{attrs:{id:"_2-5-1-ç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-ç¼“å­˜"}},[t._v("#")]),t._v(" 2.5.1 ç¼“å­˜")]),t._v(" "),s("ul",[s("li",[t._v("ç¼“å­˜å°†è¢«ç”¨åˆ°çš„æ•°æ®ï¼Œè®©æ•°æ®è®¿é—®æ›´å¿«\n"),s("ul",[s("li",[t._v("å‘½ä¸­ï¼šåœ¨ç¼“å­˜ä¸­æ‰¾åˆ°äº†è¯·æ±‚çš„æ•°æ®")]),t._v(" "),s("li",[t._v("ä¸å‘½ä¸­/ç©¿é€ï¼šç¼“å­˜ä¸­æ²¡æœ‰éœ€è¦çš„æ•°æ®")]),t._v(" "),s("li",[t._v("å‘½ä¸­ç‡ï¼šå‘½ä¸­æ¬¡æ•°/æ€»æ¬¡æ•°")]),t._v(" "),s("li",[t._v("ç¼“å­˜å¤§å°ï¼šç¼“å­˜ä¸­ä¸€å…±å¯ä»¥å­˜å¤šå°‘æ•°æ®")]),t._v(" "),s("li",[t._v("æ¸…ç©ºç­–ç•¥ï¼šå¦‚æœç¼“å­˜ç©ºé—´ä¸å¤Ÿæ•°æ®å¦‚ä½•è®©è¢«æ›¿æ¢")])])])]),t._v(" "),s("img",{attrs:{width:"300px",src:a(167)}}),t._v(" "),s("h4",{attrs:{id:"æ¸…ç©ºç­–ç•¥-fifo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ¸…ç©ºç­–ç•¥-fifo"}},[t._v("#")]),t._v(" æ¸…ç©ºç­–ç•¥ï¼ˆFIFOï¼‰")]),t._v(" "),s("p",[t._v("è¿™æ˜¯ä¸€ç§æ¸…ç©ºç­–ç•¥ï¼Œå®ƒæ˜¯å…ˆè¿›å…ˆå‡ºï¼›å‡å¦‚æˆ‘ä»¬ç°åœ¨æœ‰100æ¡æ•°æ®ï¼Œå­˜å‚¨çš„æ–¹å‘æ˜¯ä»ä¸€ä¸ªé“¾è¡¨çš„å°¾éƒ¨æ’å…¥ï¼Œä»ä¸€ä¸ªé“¾è¡¨çš„å¤´éƒ¨å–å‡ºï¼›å‡è®¾æˆ‘ä»¬æ˜¯è¿™æ ·çš„ä¸€ä¸ªç®—æ³•ã€‚\nå½“æˆ‘ä»¬ç°æœ‰çš„æ•°æ®å°äº100çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€ç›´å­˜å…¥ï¼›å½“ç°æœ‰æ•°æ®ç­‰äº100çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¯å­˜å…¥ä¸€ä¸ªå°±éœ€è¦å–å‡ºä¸€ä¸ªï¼Œä»å¤´éƒ¨å­˜å…¥ï¼Œä»å°¾éƒ¨å–å‡ºï¼›è¿™æ ·å°±ä¼šäº§ç”Ÿä¸€ä¸ªç»“æœï¼Œ\næˆ‘ä»¬æœ€æ—©å­˜å…¥çš„æ•°æ®æœ€æ—©å–å‡ºï¼Œè¿™æ ·å°±æ„æˆäº†å…ˆè¿›å…ˆå‡ºã€‚")]),t._v(" "),s("img",{attrs:{width:"500px",src:a(168)}}),t._v(" "),s("h4",{attrs:{id:"lru-least-frequently-used-ä½¿ç”¨é¢‘ç‡æœ€ä½çš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lru-least-frequently-used-ä½¿ç”¨é¢‘ç‡æœ€ä½çš„"}},[t._v("#")]),t._v(" LRU-Least Frequently used(ä½¿ç”¨é¢‘ç‡æœ€ä½çš„)")]),t._v(" "),s("p",[t._v("å½“ç¼“å­˜ä¸å¤Ÿæ—¶ï¼Œä¼˜å…ˆæ¸…é™¤ä½¿ç”¨é¢‘ç‡æœ€ä½çš„")]),t._v(" "),s("img",{attrs:{width:"500px",src:a(169)}}),t._v(" "),s("h4",{attrs:{id:"lru-least-recently-used-æœ€è¿‘ä½¿ç”¨çš„"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#lru-least-recently-used-æœ€è¿‘ä½¿ç”¨çš„"}},[t._v("#")]),t._v(" LRU-Least recently used(æœ€è¿‘ä½¿ç”¨çš„)")]),t._v(" "),s("p",[t._v("å‡å¦‚æœ€è¿‘ä¸€å¹´å‰çš„è®°å½•ï¼Œæœ€è¿‘ä½¿ç”¨äº†ï¼Œä¼šæ›´æ–°æˆæœ€è¿‘çš„")]),t._v(" "),s("img",{attrs:{width:"500px",src:a(170)}}),t._v(" "),s("h3",{attrs:{id:"_2-5-2-httpç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-httpç¼“å­˜"}},[t._v("#")]),t._v(" 2.5.2 httpç¼“å­˜")]),t._v(" "),s("p",[t._v("httpç¼“å­˜ï¼Œä¸»è¦æ˜¯é€šè¿‡åè®®å¤´ï¼Œåˆ†åˆ«ä¸ºåå•†ç¼“å­˜å’Œå¼ºåˆ¶ç¼“å­˜ã€‚")]),t._v(" "),s("h4",{attrs:{id:"ç¼“å­˜ç­–ç•¥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç¼“å­˜ç­–ç•¥"}},[t._v("#")]),t._v(" ç¼“å­˜ç­–ç•¥")]),t._v(" "),s("p",[t._v("å½“æµè§ˆå™¨ç¬¬ä¸€æ¬¡åŠ è½½èµ„æºæ—¶ï¼ŒæœåŠ¡ç«¯å¯ä»¥åœ¨å“åº”å¤´ä¸­è¿”å›ç¼“å­˜ç­–ç•¥ï¼Œæµè§ˆå™¨ä¼šæŠŠè¿™äº›ç¼“å­˜ç­–ç•¥æ”¾åœ¨ç¼“å­˜ä¸­ï¼Œå½“ä»¥åå†æ¬¡è¯·æ±‚æ—¶æµè§ˆå™¨é€šè¿‡"),s("code",[t._v("expires")]),t._v("å’Œ"),s("code",[t._v("cache-control")]),t._v("åˆ¤æ–­æ˜¯å¦å‘½ä¸­ç¼“å­˜ä¸”æ²¡æœ‰è¿‡æœŸï¼Œå¦‚æœå‘½ä¸­è¿”å›200çŠ¶æ€ç å¹¶ä»ç¼“å­˜ä¸­è¯»å–æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰å‘½ä¸­å¼ºç¼“å­˜ï¼Œæµè§ˆå™¨ä¼šå‘é€ä¸€ä¸ªè¯·æ±‚å¹¶æºå¸¦"),s("code",[t._v("last-modified")]),t._v("ã€"),s("code",[t._v("e-tag")]),t._v("å’¨è¯¢æœåŠ¡ç«¯èµ„æºæ˜¯å¦è¿‡æœŸï¼Œå¦‚æœæœåŠ¡ç«¯è¿”å›304çŠ¶æ€ç ï¼Œè¯´æ˜æ²¡è¿‡æœŸè®©æµè§ˆå™¨ä»ç¼“å­˜ä¸­è¯»å–ï¼Œå¦‚æœè¿‡æœŸäº†æµè§ˆå™¨åˆ™ä¼šé‡æ–°è¯·æ±‚èµ„æºã€‚")]),t._v(" "),s("h4",{attrs:{id:"cache-control"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cache-control"}},[t._v("#")]),t._v(" ğŸ… Cache-Control "),s("Badge",{attrs:{text:"é‡è¦",type:"tip"}})],1),t._v(" "),s("p",[t._v("è¿™ä¸ªå¤´å®šä¹‰æ‰€æœ‰ç¼“å­˜éƒ½è¦éµå®ˆçš„è¡Œä¸ºï¼Œä¸ç®¡æ˜¯åå•†ç¼“å­˜è¿˜æ˜¯å¼ºåˆ¶ç¼“å­˜")]),t._v(" "),s("ul",[s("li",[t._v("å¯ç¼“å­˜æ€§ï¼ˆè¦ä¸è¦ç¼“å­˜ï¼‰")])]),t._v(" "),s("p",[t._v("å¤§ä½“æœ‰2ç§æƒ…å†µï¼Œä¸€ç§æ˜¯å®¢æˆ·ç«¯è¦ä¸è¦ç¼“å­˜ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯ä¸­é—´æ–¹è¦ä¸è¦ç¼“å­˜ï¼›å› ä¸ºæˆ‘ä»¬ä¸€ä¸ªè¯·æ±‚ä»å‘å‡ºåˆ°å“åº”å¯èƒ½è¿˜ç»å†äº†å…¶ä»–æœåŠ¡å™¨ï¼Œå¯èƒ½è¿˜ç»è¿‡ä¸­é—´çš„ä»£ç†æœåŠ¡å™¨ï¼Œè¿™é‡Œå®šä¹‰äº†ä¸­é—´çš„æœåŠ¡å™¨å®ƒä»¬éœ€ä¸éœ€ç¼“å­˜ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœå…è®¸ä¸­é—´æ–¹ç¼“å­˜å°±å®šä¹‰æˆ"),s("code",[t._v("public")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä¸å…è®¸ä¸­é—´æ–¹ç¼“å­˜ï¼Œåªå…è®¸ç«¯ç¼“å­˜æˆ‘ä»¬å°±å®šä¹‰æˆ"),s("code",[t._v("private")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœéœ€è¦æ‰€æœ‰äººéƒ½ä¸ç¼“å­˜é‚£å°±å®šä¹‰æˆ"),s("code",[t._v("no-store")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("å¦‚æœä½ å¸Œæœ›è¦ä¸è¦ç¼“å­˜æ˜¯ä¸€ä¸ªåå•†çš„è¡Œä¸ºï¼Œé‚£ä¹ˆä½ å¯ä»¥ç”¨"),s("code",[t._v("no-cache")]),t._v(",å°±æ˜¯æ¯æ¬¡è¯·æ±‚å‰å…ˆé—®ä¸€ä¸‹æœåŠ¡ç«¯æ˜¯ä¸æ˜¯æœ€æ–°çš„ï¼Œå¦‚æœä¸æ˜¯æœ€æ–°çš„å°±ä¸ç”¨å†æ¬¡è¯·æ±‚ã€‚")]),t._v(" "),s("p",[t._v("è¿™å‡ ä¸ªå€¼å¯ä»¥ç»„åˆã€‚")]),t._v(" "),s("ul",[s("li",[t._v("å¯ç¼“å­˜æ€§")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("å€¼")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("å«ä¹‰")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("public")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("å…è®¸æ‰€æœ‰æ–¹ç¼“å­˜")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("private")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("åªå…è®¸æµè§ˆå™¨ç¼“å­˜")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("no-cache")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("æ¯æ¬¡å¿…é¡»å…ˆè¯¢é—®æœåŠ¡å™¨èµ„æºæ˜¯éƒ½å·²ç»æ›´æ–°")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("no-store")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ç¦æ­¢ç¼“å­˜")])])])]),t._v(" "),s("ul",[s("li",[t._v("ç¼“å­˜æœŸé™ï¼ˆè¦ä¸è¦ç¼“å­˜ï¼‰")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("å€¼")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("å«ä¹‰")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("max-age")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ç§’ï¼ˆå­˜å‚¨å‘¨æœŸï¼‰")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("s-maxage")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("ç§’ï¼ˆå…±äº«ç¼“å­˜å¦‚ä»£ç†ç­‰ï¼Œå­˜å‚¨å‘¨æœŸï¼‰")])])])]),t._v(" "),s("h4",{attrs:{id:"cache-control-å¸¸ç”¨ç”¨æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cache-control-å¸¸ç”¨ç”¨æ³•"}},[t._v("#")]),t._v(" Cache-Control å¸¸ç”¨ç”¨æ³•")]),t._v(" "),s("p",[t._v("ä¸åŒæ–‡ä»¶ï¼Œ"),s("code",[t._v("cache-control")]),t._v("ä¸åŒçš„ç”¨æ³•ï¼š")]),t._v(" "),s("p",[t._v("ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼šreactã€vueã€jqueryè¿™äº›åº“æˆ‘ä»¬ä¼šæŠŠæœŸé™è®¾ç½®æˆæœ€å¤§ï¼ŒåŸå› æ˜¯è¿™ç§æ›´æ–°å‘¨æœŸæ˜¯éå¸¸æ…¢çš„ï¼Œå¦‚æœè¦æ›´æ–°è¿™ä¸ªæ–‡ä»¶æˆ‘ä»¬å¯ä»¥æ›´æ”¹æ–‡ä»¶åçš„hashå€¼ï¼Œè¿™æ ·æ–‡ä»¶åå˜äº†åˆå¯ä»¥è¯·æ±‚æ–°çš„æ–‡ä»¶äº†ã€‚å¦‚æœæˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸å†™ï¼Œå°±æ˜¯å…è®¸å…¬æœ‰æ–¹ï¼Œåƒcdnã€ä»£ç†æœåŠ¡å™¨å®ƒä»¬éƒ½å¯ä»¥ç¼“å­˜è¿™ä¸ªæ–‡ä»¶ã€‚")]),t._v(" "),s("p",[t._v("ç¬¬äºŒä¸ªæ–‡ä»¶ï¼šè¿™ç§è‡ªå·±çš„åº“ï¼Œä¼šè®¾ç½®æˆprivateï¼Œå°±æ˜¯æˆ‘ä»¬ä¸å…è®¸ä¸­é—´æ–¹ç¼“å­˜ï¼Œè¿™é‡Œé¢å¯èƒ½æœ‰æˆ‘ä»¬æ•æ„Ÿçš„ç®—æ³•ï¼›é€ æˆä¸å¿…è¦çš„éº»çƒ¦ï¼Œå¦‚æœå˜åŒ–ä¸å¤§çš„æƒ…å†µä¸‹ï¼Œmax-ageä¹Ÿè®¾ç½®æˆå¾ˆå¤§çš„å€¼ã€‚")]),t._v(" "),s("p",[t._v("ç¬¬ä¸‰ä¸ªæ–‡ä»¶ï¼šå˜åŒ–æƒ…å†µä¸å¤§çš„æƒ…å†µä¸‹ï¼Œmax-ageå¯ä»¥è®¾ç½®æˆå¾ˆå¤§çš„å€¼ã€‚")]),t._v(" "),s("p",[t._v("ç¬¬å››ä¸ªæ–‡ä»¶ï¼šå›¾ç‰‡çš„åå­—ä¹Ÿæ²¡æœ‰å¸¦hashï¼Œå¯èƒ½å­˜åœ¨ä¸€ä¸ªæ›´æ–°é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒçš„æ—¶é—´è®¾ç½®æˆä¸€å¤©ã€‚")]),t._v(" "),s("img",{attrs:{width:"500px",src:a(171)}}),t._v(" "),s("h4",{attrs:{id:"å¼ºåˆ¶ç¼“å­˜"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¼ºåˆ¶ç¼“å­˜"}},[t._v("#")]),t._v(" ğŸ… å¼ºåˆ¶ç¼“å­˜ "),s("Badge",{attrs:{text:"é‡è¦",type:"tip"}})],1),t._v(" "),s("p",[t._v("å¼ºåˆ¶ä½¿ç”¨ç¼“å­˜ï¼Œä¸å»æœåŠ¡å™¨å¯¹æ¯”ï¼›ï¼ˆç¼“å­˜ç”Ÿæ•ˆä¸å†å‘é€è¯·æ±‚ï¼‰")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("Cache"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("control"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("max"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("600")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 600ç§’")]),t._v("\nExpires"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("æœ€åæœŸé™"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å†™ä¸€ä¸ªå…·ä½“æ—¥æœŸï¼Œåˆ°ä»€ä¹ˆæ—¶å€™å¤±æ•ˆï¼Œç°åœ¨åŸºæœ¬ä¸ç”¨äº†")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("æ¡ˆä¾‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-diff line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[t._v("const express= require('express')\nconst app = express()\napp.get('/x',(req,res)=>{\n"),s("span",{pre:!0,attrs:{class:"token inserted-sign inserted"}},[s("span",{pre:!0,attrs:{class:"token prefix inserted"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v(' res.set("Cache-Control","max-age=600")\n')])]),s("span",{pre:!0,attrs:{class:"token unchanged"}},[s("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v("   res.send('x3')\n")])]),t._v("})\napp.listen(3000)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("max-age=0 ç­‰äº0çš„æƒ…å†µå’Œno-cacheçš„æƒ…å†µä¸€æ ·ï¼Œæ¯æ¬¡éƒ½å‘æœåŠ¡å™¨è¯¢é—®")]),t._v(" "),s("h4",{attrs:{id:"åå•†ç¼“å­˜1"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åå•†ç¼“å­˜1"}},[t._v("#")]),t._v(" ğŸ… åå•†ç¼“å­˜1 "),s("Badge",{attrs:{text:"é‡è¦",type:"tip"}})],1),t._v(" "),s("p",[t._v("åå•†ä½¿ç”¨ç¼“å­˜ï¼Œæ¯æ¬¡éœ€è¦å‘æœåŠ¡å™¨è¯·æ±‚å¯¹æ¯”ï¼Œç¼“å­˜ç”Ÿæ•ˆä¸‹ä¸ä¼ å›body")]),t._v(" "),s("p",[t._v("æœåŠ¡ç«¯å…ˆè¿”å›ä¸€ä¸ª"),s("code",[t._v("Last-Modified")]),t._v("å‘Šè¯‰å®¢æˆ·ç«¯è¿™ä¸ªèµ„æºæœ€åä¿®æ”¹æ—¶é—´ï¼Œç„¶åå®¢æˆ·ç«¯æ¯æ¬¡å‘è¯·æ±‚éƒ½å›å¸¦ä¸Š"),s("code",[t._v("if-Modified-Since")]),t._v(";å¦‚æœèµ„æºå˜åŒ–äº†ï¼ŒæœåŠ¡å°±ä¼šçŸ¥é“ï¼Œå°±ä¼šè¿”å›æ–°çš„èµ„æºå’Œæ–°çš„Last-Modified")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("è¿”å›ï¼šLast"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Modifiedï¼š"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("æ˜¨å¤©"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \nè¯·æ±‚ï¼š"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Modified"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Sinceï¼š"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("æ˜¨å¤©"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("div",{staticClass:"language-diff line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-diff"}},[s("code",[t._v("const express= require('express')\nconst app = express()\napp.set('etag',false) // å…ˆæŠŠetagå…³æ‰ï¼Œå› ä¸ºå®ƒä¹Ÿæ˜¯ä¸€ç§ç¼“å­˜,ç°åœ¨æˆ‘ä»¬åªç”¨ä¸€ç§ï¼Œå¥½æ¼”ç¤ºä¸€äº›\napp.get('/x',(req,res)=>{\nres.set(\"Last-Modified\",\"Sun Feb 28 2021 23:24:47 GMT+0800\") // å¦‚æœèµ„æºå˜äº†éœ€è¦æ›´æ–°è¿™ä¸ªæ—¶é—´\n"),s("span",{pre:!0,attrs:{class:"token unchanged"}},[s("span",{pre:!0,attrs:{class:"token prefix unchanged"}},[t._v(" ")]),s("span",{pre:!0,attrs:{class:"token line"}},[t._v("   res.send('x3')\n")])]),t._v("})\napp.listen(3000)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h4",{attrs:{id:"åå•†ç¼“å­˜2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åå•†ç¼“å­˜2"}},[t._v("#")]),t._v(" ğŸ… åå•†ç¼“å­˜2 "),s("Badge",{attrs:{text:"é‡è¦",type:"tip"}})],1),t._v(" "),s("p",[t._v("è¿™ä¸ªæ˜¯ç”¨çš„æœ€å¤šçš„åå•†ç¼“å­˜ï¼ŒæœåŠ¡ç«¯åœ¨è¿”å›ä»»ä½•æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šå¸¦ä¸Šä¸€ä¸ªE-Tagï¼›è¿™ä¸ªä¸ç”¨æˆ‘ä»¬é…ç½®")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("è¿”å›ï¼š"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Tag"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),t._v("\nè¯·æ±‚"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("None"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("Match"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1234")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h4",{attrs:{id:"æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" ğŸ… æ€»ç»“")]),t._v(" "),s("ol",[s("li",[t._v("å‘å¸ƒæ–°çš„é™æ€èµ„æºçš„æ—¶å€™ï¼Œå¦‚ä½•æ›´æ–°ç¼“å­˜ï¼Ÿ")])]),t._v(" "),s("p",[t._v("æ¯æ¬¡å‘å¸ƒçš„æ–‡ä»¶åéƒ½ä¸åŒï¼Œè¿™æ˜¯ç”¨çš„æœ€å¤šçš„ä¸€ç§ç­–ç•¥ï¼Œå› ä¸ºæˆ‘ä»¬çš„é™æ€èµ„æºåœ¨htmlåŠ è½½ï¼Œæˆ–è€…è¢«jså¼•ç”¨åˆ°äº†ï¼›æœ€åæŠŠè¿™äº›å¼•ç”¨éƒ½æ”¹æˆæ–°çš„ï¼›webpackéƒ½æœ‰è¿™äº›åŠŸèƒ½ã€‚")]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("å½“å¼ºç¼“å­˜ï¼ˆCache-Control: max-ageï¼‰å’Œ åå•†ç¼“å­˜ï¼ˆETag / Last-Modifiedï¼‰éƒ½è®¾ç½®æ—¶ï¼Œå‘½ä¸­ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Ÿ")])]),t._v(" "),s("p",[t._v("å…ˆæ£€æŸ¥å¼ºç¼“å­˜ï¼Œä¸”èµ„æºä»åœ¨æœ‰æ•ˆæœŸå†…ï¼ˆæ²¡è¿‡ max-age æ—¶é—´ï¼‰ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œä¸å‘è¯·æ±‚ï¼ŒçŠ¶æ€ç  200 (from disk/memory cache)ï¼›å¦‚æœ max-age è¿‡æœŸï¼Œåˆ™æ£€æŸ¥åå•†ç¼“å­˜ï¼Œå‘é€è¯·æ±‚æ—¶ï¼Œæµè§ˆå™¨ä¼šå¸¦ä¸Š If-None-Matchï¼ˆå¯¹åº” ETagï¼‰æˆ– If-Modified-Sinceï¼ˆå¯¹åº” Last-Modifiedï¼‰ï¼›æœåŠ¡å™¨æ£€æŸ¥åï¼Œè‹¥èµ„æºæœªä¿®æ”¹ï¼Œè¿”å› 304 Not Modifiedï¼Œæµè§ˆå™¨ç»§ç»­ä½¿ç”¨ç¼“å­˜ã€‚è‹¥èµ„æºå·²ä¿®æ”¹ï¼Œè¿”å› 200 OK å’Œæ–°èµ„æºã€‚")])])}),[],!1,null,null,null);e.default=r.exports}}]);